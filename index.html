<div id="protected-content"></div>

<script>
  // Replace this check with a simple user verification logic if needed
  const isLoggedIn = true; // Wix handles actual page gating

  if (isLoggedIn) {
    const encoded = "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CiAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiIC8+CiAgPHRpdGxlPkZsb3dDaGFydCBNYW5hZ2VyPC90aXRsZT4KCiAgPGxpbmsKICAgIHJlbD0iaWNvbiIKICAgIHR5cGU9ImltYWdlL3BuZyIKICAgIGhyZWY9Imh0dHBzOi8vc3RhdGljLndpeHN0YXRpYy5jb20vbWVkaWEvYzMyODNmX2EzZTFlYzQ3NDk2ZjQyZjdiZTYxN2EyY2Q3YTdiYzllfm12Mi5wbmciCiAgLz4KCiAgPGxpbmsKICAgIHJlbD0ic3R5bGVzaGVldCIKICAgIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vQGZvcnRhd2Vzb21lL2ZvbnRhd2Vzb21lLWZyZWVANi40LjAvY3NzL2FsbC5taW4uY3NzIgogIC8+CgogIDxzdHlsZT4KICAgIDpyb290IHsKICAgICAgLS1iZy1wcmltYXJ5OiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjOTM5ZWY1IDAlLCAjOWU3NmQ2IDEwMCUpOwogICAgICAtLWhlYWRlci1maXhlZC1iZzogIzIwMjMyYTsKICAgICAgLS1oZWFkZXItZ2xhc3MtYm9yZGVyOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICAgIC0tdGV4dC1vbi1oZWFkZXI6IHdoaXRlOwogICAgICAtLWJ1dHRvbi1iZzogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KTsKICAgICAgLS1idXR0b24tdGV4dDogdmFyKC0tdGV4dC1vbi1oZWFkZXIpOwogICAgICAtLWJ1dHRvbi1ob3Zlci1iZzogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpOwogICAgICAtLWJhY2tkcm9wLWJsdXI6IDEwcHg7CiAgICAgIC0taW5wdXQtYmc6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTsKICAgICAgLS1pbnB1dC1ib3JkZXI6IHJnYmEoMjAwLCAyMDAsIDIyMCwgMC40KTsKICAgICAgLS1pbnB1dC10ZXh0OiAjMWMxYzFlOwogICAgICAtLWdsYXNzLWJvcmRlcjogcmdiYSgyMDAsIDIwMCwgMjIwLCAwLjQpOwogICAgICAtLW1vZGFsLWJnOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7CiAgICAgIC0tbW9kYWwtdGV4dDogIzFjMWMxZTsKICAgICAgLS1jbG9zZS1idXR0b24tY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsKICAgICAgLS1jbG9zZS1idXR0b24taG92ZXItY29sb3I6ICMwMDA7CiAgICAgIC0tZmxvd2NoYXJ0LWNvbnRhaW5lci1iZzogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KTsKICAgICAgLS1mbG93Y2hhcnQtY29udGFpbmVyLWJvcmRlcjogcmdiYSgyMDAsIDIwMCwgMjIwLCAwLjMpOwogICAgICAtLW5vZGUtdGV4dC1maWxsOiB2YXIoLS10ZXh0LW9uLWdsYXNzLWxpZ2h0LWJnLCAjMWMxYzFlKTsKICAgICAgLS1ub2RlLWZpbGwtb3BhY2l0eTogMC40NTsKICAgICAgLS10YXNrLWNvdW50LXJlY3QtYmc6IHJnYmEoNDQsIDYyLCA4MCwgMC43NSk7CiAgICAgIC0tdGFzay1jb3VudC10ZXh0LWZpbGw6IHdoaXRlOwogICAgICAtLXRhc2stY291bnQtYm9yZGVyOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7CiAgICAgIC0tbW9kYWwtc3Ryb25nLXNoYWRvdzogMCAxNXB4IDQ1cHggcmdiYSgwLCAwLCAwLCAwLjE1KTsKICAgICAgLS1saW5rLWNvbG9yOiAjNTU1OwogICAgICAtLWxpbmstc2VsZWN0ZWQtY29sb3I6ICNlNzRjM2M7CiAgICB9CgogICAgYm9keS5kYXJrLW1vZGUgewogICAgICAtLWJnLXByaW1hcnk6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICMxMDEwMjAgMCUsICMwYzE0MjggNTAlLCAjMDgyMDNmIDEwMCUpOwogICAgICAtLXRleHQtb24taGVhZGVyOiAjZTBlMGUwOwogICAgICAtLWJ1dHRvbi1iZzogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEyKTsKICAgICAgLS1idXR0b24tdGV4dDogI2UwZTBlMDsKICAgICAgLS1idXR0b24taG92ZXItYmc6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yMik7CiAgICAgIC0taW5wdXQtYmc6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsKICAgICAgLS1pbnB1dC1ib3JkZXI6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTsKICAgICAgLS1pbnB1dC10ZXh0OiAjZTBlMGUwOwogICAgICAtLWdsYXNzLWJvcmRlcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KTsKICAgICAgLS1tb2RhbC1iZzogcmdiYSgyNSwgMzAsIDQ1LCAwLjUpOwogICAgICAtLW1vZGFsLXRleHQ6ICNlMGUwZTA7CiAgICAgIC0tZmxvd2NoYXJ0LWNvbnRhaW5lci1iZzogcmdiYSgxMCwgMTAsIDIwLCAwLjEpOwogICAgICAtLWZsb3djaGFydC1jb250YWluZXItYm9yZGVyOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICAgIC0tbW9kYWwtc3Ryb25nLXNoYWRvdzogMCAxNXB4IDQ1cHggcmdiYSgwLCAwLCAwLCAwLjQpOwogICAgICAtLWxpbmstY29sb3I6ICNhYWE7CiAgICAgIC0tbGluay1zZWxlY3RlZC1jb2xvcjogI2ZmNTI1MjsKICAgIH0KCiAgICAqIHsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfQogICAgYm9keSB7IG1hcmdpbjogMDsgZm9udC1mYW1pbHk6ICdJbnRlcicsICdTZWdvZSBVSScsIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgc2Fucy1zZXJpZjsgYmFja2dyb3VuZDogdmFyKC0tYmctcHJpbWFyeSk7IGNvbG9yOiAjMzMzOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyBtaW4taGVpZ2h0OiAxMDB2aDsgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjVzIGVhc2U7IHBvc2l0aW9uOiByZWxhdGl2ZTsgb3ZlcmZsb3cteDogaGlkZGVuOyB9CiAgICBib2R5OjpiZWZvcmUgeyBjb250ZW50OiAnJzsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IGJhY2tncm91bmQ6IHZhcigtLWJnLXByaW1hcnkpOyB6LWluZGV4OiAtMTsgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjVzIGVhc2U7IH0KICAgIGhlYWRlciB7IGJhY2tncm91bmQ6IHZhcigtLWhlYWRlci1maXhlZC1iZyk7IGJhY2tkcm9wLWZpbHRlcjogYmx1cih2YXIoLS1iYWNrZHJvcC1ibHVyKSk7IC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBibHVyKHZhcigtLWJhY2tkcm9wLWJsdXIpKTsgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWhlYWRlci1nbGFzcy1ib3JkZXIpOyBib3gtc2hhZG93OiAwIDRweCAxMnB4IHJnYmEoMCwgMCwgMCwgMC4zKTsgY29sb3I6IHZhcigtLXRleHQtb24taGVhZGVyKTsgcGFkZGluZzogMXJlbSAxLjVyZW07IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgZmxleC13cmFwOiB3cmFwOyBwb3NpdGlvbjogc3RpY2t5OyB0b3A6IDA7IHotaW5kZXg6IDk5OTsgfQogICAgaGVhZGVyIGgxIHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgbWFyZ2luOiAwOyBmb250LXNpemU6IDEuNzVyZW07IGZvbnQtd2VpZ2h0OiA2MDA7IGNvbG9yOiB2YXIoLS10ZXh0LW9uLWhlYWRlcik7IH0KICAgICNoZWFkZXJMb2dvIHsgd2lkdGg6IDMycHg7IGhlaWdodDogMzJweDsgbWFyZ2luLXJpZ2h0OiAwLjc1cmVtOyB9CiAgICBoZWFkZXIgaDEgaW5wdXQjZmxvd2NoYXJ0TmFtZUlucHV0IHsgbWFyZ2luLWxlZnQ6IDFyZW07IGZvbnQtc2l6ZTogMC45cmVtOyBwYWRkaW5nOiAwLjVyZW0gMXJlbTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW5wdXQtYm9yZGVyKTsgYm9yZGVyLXJhZGl1czogOHB4OyBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZyk7IGNvbG9yOiB2YXIoLS1pbnB1dC10ZXh0KTsgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsgZm9udC13ZWlnaHQ6IDQwMDsgfQogICAgaGVhZGVyIGgxIGlucHV0I2Zsb3djaGFydE5hbWVJbnB1dDpmb2N1cyB7IG91dGxpbmU6IG5vbmU7IGJvcmRlci1jb2xvcjogdmFyKC0tZ2xhc3MtYm9yZGVyKTsgYm94LXNoYWRvdzogMCAwIDAgM3B4IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTsgfQogICAgbmF2IHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAwLjVyZW07IGZsZXgtd3JhcDogd3JhcDsgfQogICAgbmF2IGJ1dHRvbiwgI3RoZW1lVG9nZ2xlQnRuIHsgYmFja2dyb3VuZDogdmFyKC0tYnV0dG9uLWJnKTsgYmFja2Ryb3AtZmlsdGVyOiBibHVyKHZhcigtLWJhY2tkcm9wLWJsdXIpKTsgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIodmFyKC0tYmFja2Ryb3AtYmx1cikpOyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1oZWFkZXItZ2xhc3MtYm9yZGVyKTsgY29sb3I6IHZhcigtLWJ1dHRvbi10ZXh0KTsgcGFkZGluZzogMC41cmVtOyB3aWR0aDogMi41cmVtOyBoZWlnaHQ6IDIuNXJlbTsgYm9yZGVyLXJhZGl1czogOHB4OyBmb250LXNpemU6IDEuMnJlbTsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGN1cnNvcjogcG9pbnRlcjsgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsgcG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogaGlkZGVuOyB9CiAgICBuYXYgYnV0dG9uOmhvdmVyLCAjdGhlbWVUb2dnbGVCdG46aG92ZXIgeyBiYWNrZ3JvdW5kOiB2YXIoLS1idXR0b24taG92ZXItYmcpOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7IGJveC1zaGFkb3c6IDAgOHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjIpOyB9CiAgICBuYXYgYnV0dG9uOmFjdGl2ZSwgI3RoZW1lVG9nZ2xlQnRuOmFjdGl2ZSwgbmF2IGJ1dHRvbi5hY3RpdmUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IGJhY2tncm91bmQ6IHZhcigtLWJ1dHRvbi1ob3Zlci1iZyk7IGJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMyk7IH0KICAgICNmaWxlTmFtZURpc3BsYXkgeyBtYXJnaW4tbGVmdDogMXJlbTsgZm9udC1zaXplOiAwLjlyZW07IGNvbG9yOiB2YXIoLS10ZXh0LW9uLWhlYWRlcik7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG92ZXJmbG93OiBoaWRkZW47IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBtYXgtd2lkdGg6IDEyMHB4OyB9CiAgICAjdG9vbHRpcCB7IHBvc2l0aW9uOiBmaXhlZDsgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taGVhZGVyLWZpeGVkLWJnKTsgY29sb3I6IHZhcigtLXRleHQtb24taGVhZGVyKTsgcGFkZGluZzogOHB4IDE0cHg7IGJvcmRlci1yYWRpdXM6IDIwcHg7IGZvbnQtc2l6ZTogMC44NXJlbTsgZm9udC13ZWlnaHQ6IDUwMDsgei1pbmRleDogMTAwMDE7IHBvaW50ZXItZXZlbnRzOiBub25lOyB2aXNpYmlsaXR5OiBoaWRkZW47IG9wYWNpdHk6IDA7IHdoaXRlLXNwYWNlOiBub3dyYXA7IGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjI1KTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taGVhZGVyLWdsYXNzLWJvcmRlcik7IHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlLWluLW91dCwgdHJhbnNmb3JtIDAuMnMgZWFzZS1pbi1vdXQ7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDEwcHgpOyB9CiAgICAjdG9vbHRpcC52aXNpYmxlIHsgdmlzaWJpbGl0eTogdmlzaWJsZTsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoMCk7IH0KICAgICNjb2xvci1sZWdlbmQtZGlzcGxheSB7IHBvc2l0aW9uOiBzdGlja3k7IHRvcDogODBweDsgd2lkdGg6IGNhbGMoMTAwJSAtIDJyZW0pOyBtYXJnaW46IDAgYXV0byAxcmVtIGF1dG87IHBhZGRpbmc6IDAuNXJlbSAxcmVtOyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7IGJhY2tkcm9wLWZpbHRlcjogYmx1cigxMnB4KTsgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoMTJweCk7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWhlYWRlci1nbGFzcy1ib3JkZXIpOyBib3JkZXItcmFkaXVzOiAxMnB4OyB6LWluZGV4OiA5OTg7IGRpc3BsYXk6IG5vbmU7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyOyBnYXA6IDEuNXJlbTsgZmxleC13cmFwOiB3cmFwOyBib3gtc2hhZG93OiAwIDRweCAxNXB4IHJnYmEoMCwwLDAsMC4xKTsgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTsgfQogICAgI2NvbG9yLWxlZ2VuZC1kaXNwbGF5LnZpc2libGUgeyBkaXNwbGF5OiBmbGV4OyB9CiAgICAubGVnZW5kLWRpc3BsYXktaXRlbSB7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGdhcDogMC41cmVtOyBmb250LXNpemU6IDAuODVyZW07IGNvbG9yOiB2YXIoLS10ZXh0LW9uLWhlYWRlcik7IH0KICAgIC5sZWdlbmQtZGlzcGxheS1jb2xvciB7IHdpZHRoOiAxNHB4OyBoZWlnaHQ6IDE0cHg7IGJvcmRlci1yYWRpdXM6IDUwJTsgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjMpOyB9CiAgICAubGVnZW5kLWRpc3BsYXktbGluZSB7CiAgICAgICAgd2lkdGg6IDMwcHg7CiAgICAgICAgaGVpZ2h0OiAycHg7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdGV4dC1vbi1oZWFkZXIpOwogICAgICAgIG1hcmdpbjogMCA1cHg7CiAgICB9CiAgICAubGVnZW5kLWRpc3BsYXktbGluZS5kb3R0ZWQgewogICAgICAgIGJvcmRlci1ib3R0b206IDJweCBkb3R0ZWQgdmFyKC0tdGV4dC1vbi1oZWFkZXIpOwogICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyAKICAgIH0KICAgICNmbG93Y2hhcnRDb250YWluZXIgeyB3aWR0aDogY2FsYygxMDAlIC0gMnJlbSk7IGZsZXgtZ3JvdzogMTsgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZmxvd2NoYXJ0LWNvbnRhaW5lci1ib3JkZXIpOyBiYWNrZ3JvdW5kOiB2YXIoLS1mbG93Y2hhcnQtY29udGFpbmVyLWJnKTsgb3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyBtYXJnaW46IDFyZW07IGJvcmRlci1yYWRpdXM6IDIwcHg7IGJveC1zaGFkb3c6IGluc2V0IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOyB9CiAgICAjZmxvd2NoYXJ0IHsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IH0KICAgIGxpbmUubGluayB7IGN1cnNvcjogcG9pbnRlcjsgdHJhbnNpdGlvbjogc3Ryb2tlIDAuM3MgZWFzZSwgc3Ryb2tlLXdpZHRoIDAuM3MgZWFzZTsgfQogICAgbGluZS5saW5rLnNlbGVjdGVkIHsgc3Ryb2tlOiB2YXIoLS1saW5rLXNlbGVjdGVkLWNvbG9yKSAhaW1wb3J0YW50OyBzdHJva2Utd2lkdGg6IDRweDsgc3Ryb2tlLWRhc2hhcnJheTogNSwgNTsgfQogICAgI2Jhbm5lci1jb250YWluZXIgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMTBweDsgbGVmdDogMTBweDsgd2lkdGg6IDM1JTsgbWF4LXdpZHRoOiA0MjBweDsgYXNwZWN0LXJhdGlvOiAxNTAwIC8gNjI1OyBib3JkZXItcmFkaXVzOiAxMnB4OyBvdmVyZmxvdzogaGlkZGVuOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgei1pbmRleDogNTA7IH0KICAgICNiYW5uZXItY29udGFpbmVyIGlmcmFtZSB7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGJvcmRlcjogbm9uZTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KICAgIC5tb2RhbCB7IGRpc3BsYXk6IG5vbmU7IHBvc2l0aW9uOiBmaXhlZDsgei1pbmRleDogMTAwMDsgbGVmdDogMDsgdG9wOiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNCk7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpOyAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpOyBwYWRkaW5nLXRvcDogNTBweDsgb3ZlcmZsb3cteTogYXV0bzsgfQogICAgLm1vZGFsLWNvbnRlbnQgeyBiYWNrZ3JvdW5kOiB2YXIoLS1tb2RhbC1iZyk7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWdsYXNzLWJvcmRlcik7IGNvbG9yOiB2YXIoLS1tb2RhbC10ZXh0KTsgbWFyZ2luOiAyMHB4IGF1dG87IHBhZGRpbmc6IDJyZW07IHdpZHRoOiA5MCU7IG1heC13aWR0aDogNzUwcHg7IG92ZXJmbG93LXk6IGF1dG87IG1heC1oZWlnaHQ6IGNhbGMoMTAwdmggLSAxMDBweCk7IGJvcmRlci1yYWRpdXM6IDIwcHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgYm94LXNoYWRvdzogdmFyKC0tbW9kYWwtc3Ryb25nLXNoYWRvdyk7IHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4zcyBlYXNlLCBib3JkZXItY29sb3IgMC4zcyBlYXNlOyB9CiAgICAjY29ubmVjdG9yT3B0aW9uc01vZGFsIC5tb2RhbC1jb250ZW50LCAjY29sb3JMZWdlbmRNb2RhbCAubW9kYWwtY29udGVudCB7IG1heC13aWR0aDogNTAwcHg7IH0KICAgICNjb2xvci1sZWdlbmQtZW50cmllcyB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGdhcDogMXJlbTsgbWFyZ2luLWJvdHRvbTogMS41cmVtOyB9CiAgICAubGVnZW5kLWVudHJ5IHsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZ2FwOiAxcmVtOyB9CiAgICAubGVnZW5kLWNvbG9yLXN3YXRjaCB7IHdpZHRoOiAzMnB4OyBoZWlnaHQ6IDMycHg7IGJvcmRlci1yYWRpdXM6IDhweDsgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZ2xhc3MtYm9yZGVyKTsgZmxleC1zaHJpbms6IDA7IH0KICAgIC5sZWdlbmQtZW50cnkgaW5wdXQgeyBmbGV4LWdyb3c6IDE7IH0KICAgIC5jbG9zZS1idXR0b24geyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiAxNXB4OyB0b3A6IDE1cHg7IGZvbnQtc2l6ZTogMjRweDsgY3Vyc29yOiBwb2ludGVyOyBjb2xvcjogdmFyKC0tY2xvc2UtYnV0dG9uLWNvbG9yKTsgd2lkdGg6IDMycHg7IGhlaWdodDogMzJweDsgZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDUwJTsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOyB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOyB6LWluZGV4OiAxMDsgfQogICAgLmNsb3NlLWJ1dHRvbjpob3ZlciB7IGNvbG9yOiB2YXIoLS1jbG9zZS1idXR0b24taG92ZXItY29sb3IpOyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7IHRyYW5zZm9ybTogc2NhbGUoMS4xKTsgfQogICAgZm9ybSB7IGRpc3BsYXk6IGZsZXg7IGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47IGdhcDogMXJlbTsgfQogICAgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEgeyBwYWRkaW5nOiAxMnB4IDE2cHg7IGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlucHV0LWJvcmRlcik7IGJvcmRlci1yYWRpdXM6IDEycHg7IGZvbnQtc2l6ZTogMWVtOyBiYWNrZ3JvdW5kOiB2YXIoLS1pbnB1dC1iZyk7IGNvbG9yOiB2YXIoLS1pbnB1dC10ZXh0KTsgZm9udC1mYW1pbHk6ICdJbnRlcicsICdTZWdvZSBVSScsIHNhbnMtc2VyaWY7IHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7IH0KICAgIGlucHV0OmZvY3VzLCBzZWxlY3Q6Zm9jdXMsIHRleHRhcmVhOmZvY3VzIHsgb3V0bGluZTogbm9uZTsgYm9yZGVyLWNvbG9yOiB2YXIoLS1nbGFzcy1ib3JkZXIpOyBib3gtc2hhZG93OiAwIDAgMCAzcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCk7IH0KICAgIHRleHRhcmVhIHsgcmVzaXplOiB2ZXJ0aWNhbDsgbWluLWhlaWdodDogODBweDsgfQogICAgI3Rhc2tOYW1lIHsgd2lkdGg6IDEwMCU7IH0KICAgIC5tb2RhbC1idG4geyBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTUpOyBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7IGNvbG9yOiB2YXIoLS1tb2RhbC10ZXh0KTsgcGFkZGluZzogMTBweCAyMHB4OyBib3JkZXItcmFkaXVzOiAxMHB4OyBmb250LXNpemU6IDFlbTsgZm9udC13ZWlnaHQ6IDUwMDsgY3Vyc29yOiBwb2ludGVyOyB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlOyB9CiAgICAubW9kYWwtYnRuOmhvdmVyIHsgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KTsgYm9yZGVyLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyk7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMnB4KTsgYm94LXNoYWRvdzogMCA4cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMSk7IH0KICAgIC5tb2RhbC1idG46YWN0aXZlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyBib3gtc2hhZG93OiBub25lOyB9CiAgICAubW9kYWwtYnRuLmRhbmdlciB7IGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjMxLCA3NiwgNjAsIDAuNSk7IH0KICAgIC5tb2RhbC1idG4uZGFuZ2VyOmhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMzEsIDc2LCA2MCwgMC43KTsgfQogICAgLmZsb3djaGFydC1ub2RlLWh0bWwtd3JhcHBlciB7IG92ZXJmbG93OiB2aXNpYmxlOyB9CiAgICAuZmxvd2NoYXJ0LW5vZGUtaHRtbCB7IGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1nbGFzcy1ib3JkZXIpOyBib3gtc2hhZG93OiB2YXIoLS1tb2RhbC1zdHJvbmctc2hhZG93KTsgYm9yZGVyLXJhZGl1czogMThweDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgcGFkZGluZzogOHB4OyBib3gtc2l6aW5nOiBib3JkZXItYm94OyBjb2xvcjogdmFyKC0tbm9kZS10ZXh0LWZpbGwpOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGN1cnNvcjogbW92ZTsgb3ZlcmZsb3c6IGhpZGRlbjsgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2UsIGJvcmRlci1jb2xvciAwLjNzIGVhc2U7IH0KICAgIC5mbG93Y2hhcnQtbm9kZS1odG1sLmRyYWdnaW5nIHsgdHJhbnNpdGlvbjogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAubm9kZS1uYW1lLWh0bWwgeyBmb250LXdlaWdodDogNTAwOyB0ZXh0LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4yKTsgd29yZC1icmVhazogYnJlYWstd29yZDsgZmxleC1ncm93OiAxOyBkaXNwbGF5OiBmbGV4OyBhbGlnbi1pdGVtczogY2VudGVyOyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgcGFkZGluZzogMCA1cHg7IH0KICAgIC50YXNrLWNvdW50LXBpbGwtaHRtbCB7IGJhY2tncm91bmQ6IHZhcigtLXRhc2stY291bnQtcmVjdC1iZyk7IGNvbG9yOiB2YXIoLS10YXNrLWNvdW50LXRleHQtZmlsbCk7IHBhZGRpbmc6IDRweCAxMHB4OyBib3JkZXItcmFkaXVzOiAxNHB4OyBmb250LXdlaWdodDogNjAwOyBmb250LXNpemU6IDAuOWVtOyBib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLCAwLCAwLCAwLjIpOyBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS10YXNrLWNvdW50LWJvcmRlcik7IHdoaXRlLXNwYWNlOiBub3dyYXA7IG1hcmdpbi1ib3R0b206IGF1dG87IH0KICAgIC5wcmlvcml0eS1pbmRpY2F0b3IgeyBmb250LXNpemU6IDAuOGVtOyBsaW5lLWhlaWdodDogMTsgbWFyZ2luLXRvcDogYXV0bzsgYWxpZ24tc2VsZjogZmxleC1lbmQ7IHBhZGRpbmc6IDRweDsgfQogICAgI3VzZXJHdWlkZU1vZGFsIC5tb2RhbC1jb250ZW50IHVsIHtsaXN0LXN0eWxlOiBub25lOyBwYWRkaW5nOiAwO30KICAgICN1c2VyR3VpZGVNb2RhbCAubW9kYWwtY29udGVudCBhIHsgY29sb3I6IHZhcigtLW1vZGFsLXRleHQpOyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgfQogICAgLm1vZGFsLWNvbnRlbnQgaDIsICN1c2VyR3VpZGVNb2RhbCAubW9kYWwtY29udGVudCBoMiB7IGZvbnQtc2l6ZTogMS41ZW07IG1hcmdpbi1ib3R0b206IDFlbTsgfQogICAgLm1vZGFsLWNvbnRlbnQgaDMsICN1c2VyR3VpZGVNb2RhbCAubW9kYWwtY29udGVudCBoMyB7IG1hcmdpbi10b3A6IDEuNWVtOyBtYXJnaW4tYm90dG9tOiAwLjVlbTsgZm9udC1zaXplOiAxLjE1ZW07IGNvbG9yOiB2YXIoLS1tb2RhbC10ZXh0KTsgfQogICAgLm1vZGFsLWNvbnRlbnQgbGksICN1c2VyR3VpZGVNb2RhbCAubW9kYWwtY29udGVudCBsaSB7IG1hcmdpbi1ib3R0b206IDAuN2VtOyBsaW5lLWhlaWdodDogMS42OyB9CiAgICAjdXNlckd1aWRlTW9kYWwgLm1vZGFsLWNvbnRlbnQgbGkgc3Ryb25nIHsgZm9udC13ZWlnaHQ6IDYwMDsgY29sb3I6IHZhcigtLW1vZGFsLXRleHQpOyB9CiAgICAubW9kYWwtY29udGVudCBwLCAjdXNlckd1aWRlTW9kYWwgLm1vZGFsLWNvbnRlbnQgcCB7IG1hcmdpbi1ib3R0b206IDFlbTsgbGluZS1oZWlnaHQ6IDEuNjsgfQogICAgI3Rhc2tUZXh0UG9wdXAgI3Rhc2tGdWxsVGV4dCBhIHsKICAgICAgICBjb2xvcjogdmFyKC0tbGluay1jb2xvcik7CiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7CiAgICB9CiAgICAjdGFza1RleHRQb3B1cCAjdGFza0Z1bGxUZXh0IGE6aG92ZXIgewogICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgIH0KICAgIC5pbnN0cnVjdGlvbi10ZXh0IHsKICAgICAgICBmb250LXNpemU6IDAuODVlbTsKICAgICAgICBjb2xvcjogdmFyKC0tbW9kYWwtdGV4dCk7CiAgICAgICAgb3BhY2l0eTogMC43OwogICAgICAgIG1hcmdpbi1sZWZ0OiAwLjVlbTsKICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgfQogICAgI3Rhc2tUYWJsZSB0Ym9keSB0ciB0ZC50YXNrLWNlbGwtY29udGVudCB7IAogICAgICAgIGRpc3BsYXk6IGZsZXg7IAogICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsgCiAgICAgICAgZ2FwOiA4cHg7IAogICAgfQogICAgI3Rhc2tUYWJsZSB0Ym9keSB0ciAudGFzay1kZXRhaWwtdGV4dGFyZWEgewogICAgICAgIGZsZXgtZ3JvdzogMTsKICAgICAgICBtaW4taGVpZ2h0OiAzOHB4OwogICAgICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAgICAgcmVzaXplOiBub25lOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICBwYWRkaW5nLXJpZ2h0OiAxMnB4OwogICAgfQogICAgLnRhc2stdmlldy1pY29uIHsKICAgICAgICBmbGV4LXNocmluazogMDsKICAgICAgICBmb250LXNpemU6IDEuMWVtOwogICAgICAgIGNvbG9yOiB2YXIoLS1jbG9zZS1idXR0b24tY29sb3IpOwogICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICB0cmFuc2l0aW9uOiBjb2xvciAwLjJzIGVhc2UsIHRyYW5zZm9ybSAwLjJzIGVhc2U7CiAgICAgICAgcGFkZGluZzogNXB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICBtYXJnaW4tYm90dG9tOiAzcHg7CiAgICB9CiAgICAudGFzay12aWV3LWljb246aG92ZXIgewogICAgICAgIGNvbG9yOiB2YXIoLS1jbG9zZS1idXR0b24taG92ZXItY29sb3IpOwogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTsKICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7CiAgICB9CiAgICAuY29sb3ItcGFuZWwgewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgIGdhcDogMTBweDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICBtYXJnaW4tdG9wOiA1cHg7CiAgICB9CiAgICAuY29sb3Itc3dhdGNoIHsKICAgICAgICB3aWR0aDogMzJweDsKICAgICAgICBoZWlnaHQ6IDMycHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWdsYXNzLWJvcmRlcik7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzIGVhc2UsIGJveC1zaGFkb3cgMC4ycyBlYXNlOwogICAgICAgIGZsZXgtc2hyaW5rOiAwOwogICAgfQogICAgLmNvbG9yLXN3YXRjaC5zZWxlY3RlZC1zd2F0Y2ggewogICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMS4xKTsKICAgICAgICBib3gtc2hhZG93OiAwIDAgMCAzcHggdmFyKC0tbW9kYWwtdGV4dCk7CiAgICB9CiAgICAuY29sb3Itc3dhdGNoOmhvdmVyIHsKICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpOwogICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDJweCB2YXIoLS1tb2RhbC10ZXh0KTsKICAgIH0KICAgICNjb25uZWN0b3JPcHRpb25zTW9kYWwgLm1vZGFsLWNvbnRlbnQgaDIgewogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KICAgICNjb25uZWN0b3JPcHRpb25zTW9kYWwgbGFiZWwgewogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIG1hcmdpbi10b3A6IDFyZW07CiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtOwogICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgY29sb3I6IHZhcigtLW1vZGFsLXRleHQpOwogICAgfQogICAgLmFycm93LWNvbnRyb2xzLWdyb3VwIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGdhcDogMTBweDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICB9CiAgICAuc3R5bGUtb3B0aW9ucyB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07CiAgICB9CiAgICAubGluZS1zdHlsZS1idG4sIC5hcnJvdy1jb250cm9sLWJ0biB7CiAgICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KTsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7CiAgICAgICAgY29sb3I6IHZhcigtLW1vZGFsLXRleHQpOwogICAgICAgIHBhZGRpbmc6IDhweCAxNXB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICBmb250LXNpemU6IDAuOTVlbTsKICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgZ2FwOiA1cHg7CiAgICAgICAgZmxleDogMTsKICAgICAgICBtaW4td2lkdGg6IDkwcHg7CiAgICB9CiAgICAubGluZS1zdHlsZS1idG4gaSwgLmFycm93LWNvbnRyb2wtYnRuIGkgewogICAgICAgIGZvbnQtc2l6ZTogMS4xZW07CiAgICB9CiAgICAubGluZS1zdHlsZS1idG4uc2VsZWN0ZWQsIC5hcnJvdy1jb250cm9sLWJ0bi5zZWxlY3RlZCB7CiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYnV0dG9uLWhvdmVyLWJnKTsgCiAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1saW5rLXNlbGVjdGVkLWNvbG9yKTsgCiAgICAgICAgYm94LXNoYWRvdzogMCAwIDAgMnB4IHZhcigtLWxpbmstc2VsZWN0ZWQtY29sb3IpOwogICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW9uLWhlYWRlcik7IAogICAgfQogICAgLmxpbmUtc3R5bGUtYnRuOmhvdmVyOm5vdCguc2VsZWN0ZWQpLCAuYXJyb3ctY29udHJvbC1idG46aG92ZXI6bm90KC5zZWxlY3RlZCkgewogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSk7CiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpOwogICAgfQogICAgLmFycm93LWNvbnRyb2wtYnRuLmRpc2FibGVkIHsKICAgICAgICBvcGFjaXR5OiAwLjU7CiAgICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDsKICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCkgIWltcG9ydGFudDsKICAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7CiAgICB9CiAgICAubGluay1vcHRpb25zLWFjdGlvbi1idXR0b25zIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICBnYXA6IDFyZW07CiAgICAgICAgbWFyZ2luLXRvcDogMS41cmVtOwogICAgfQogICAgLmxpbmstb3B0aW9ucy1hY3Rpb24tYnV0dG9ucyAubW9kYWwtYnRuIHsKICAgICAgICBmbGV4OiAxOyAKICAgIH0KICAgIC5saW5rLWFycm93IHsKICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICBmaWxsOiB2YXIoLS1saW5rLWNvbG9yKTsKICAgICAgICB0cmFuc2l0aW9uOiBmaWxsIDAuM3MgZWFzZTsKICAgIH0KICAgIC5saW5rLnNlbGVjdGVkICsgLmxpbmstYXJyb3cgewogICAgICAgIGZpbGw6IHZhcigtLWxpbmstc2VsZWN0ZWQtY29sb3IpICFpbXBvcnRhbnQ7CiAgICB9CiAgICBsaW5lLmxpbmstaGl0LWFyZWEgewogICAgICAgIHN0cm9rZTogdHJhbnNwYXJlbnQ7CiAgICAgICAgc3Ryb2tlLXdpZHRoOiAxNXB4OwogICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICBwb2ludGVyLWV2ZW50czogc3Ryb2tlOwogICAgfQogICAgbGluZS5saW5rLXZpc2libGUgewogICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwogICAgfQogIDwvc3R5bGU+CgogIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9kMy83LjguNS9kMy5taW4uanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xpbmtpZnlqc0A0L2Rpc3QvbGlua2lmeS5taW4uanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xpbmtpZnktaHRtbEA0L2Rpc3QvbGlua2lmeS1odG1sLm1pbi5qcyI+PC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHk+CiAgPGhlYWRlcj4KICAgIDxoMT48aW1nIHNyYz0iaHR0cHM6Ly9zdGF0aWMud2l4c3RhdGljLmNvbS9tZWRpYS9jMzI4M2ZfYTNlMWVjNDc0OTZmNDJmN2JlNjE3YTJjZDdhN2JjOWV+bXYyLnBuZyIgYWx0PSJMb2dvIiBpZD0iaGVhZGVyTG9nbyIvPiBGbG93Q2hhcnQgTWFuYWdlciA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImZsb3djaGFydE5hbWVJbnB1dCIgcGxhY2Vob2xkZXI9IkVudGVyIEZsb3djaGFydCBOYW1l4oCmIi8+PC9oMT4KICAgIDxuYXY+CiAgICAgIDxidXR0b24gaWQ9Im5vZGVTaXplSW5jcmVhc2VCdG4iIGRhdGEtdG9vbHRpcC10ZXh0PSJJbmNyZWFzZSBOb2RlIFNpemUiPjxpIGNsYXNzPSJmYXMgZmEtcGx1cyI+PC9pPjwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJub2RlU2l6ZURlY3JlYXNlQnRuIiBkYXRhLXRvb2x0aXAtdGV4dD0iRGVjcmVhc2UgTm9kZSBTaXplIj48aSBjbGFzcz0iZmFzIGZhLW1pbnVzIj48L2k+PC9idXR0b24+CiAgICAgIDxidXR0b24gaWQ9ImFpQXNzaXN0YW50QnRuIiBkYXRhLXRvb2x0aXAtdGV4dD0iQUkgQXNzaXN0YW50ICh0dXJuIG9mZiAnRnVsbCBTY3JlZW4nKSI+PGkgY2xhc3M9ImZhcyBmYS1saWdodGJ1bGIiPjwvaT48L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBpZD0idXNlckd1aWRlQnRuIiBkYXRhLXRvb2x0aXAtdGV4dD0iVXNlciBHdWlkZSI+PGkgY2xhc3M9ImZhcyBmYS1ib29rLW9wZW4iPjwvaT48L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBpZD0iY29sb3JMZWdlbmRCdG4iIGRhdGEtdG9vbHRpcC10ZXh0PSJDb2xvciBMZWdlbmQiPjxpIGNsYXNzPSJmYXMgZmEtcGFsZXR0ZSI+PC9pPjwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJ0ZW1wbGF0ZUJ0biIgZGF0YS10b29sdGlwLXRleHQ9IkxvYWQgYSBUZW1wbGF0ZSI+PGkgY2xhc3M9ImZhcyBmYS1maWxlLWFsdCI+PC9pPjwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJwcm9qZWN0RGVzY0J0biIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IiBkYXRhLXRvb2x0aXAtdGV4dD0iUHJvamVjdCBEZXNjcmlwdGlvbiI+PGkgY2xhc3M9ImZhcyBmYS1pbmZvLWNpcmNsZSI+PC9pPjwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJhZGROb2RlSGVhZGVyQnRuIiBkYXRhLXRvb2x0aXAtdGV4dD0iQWRkIE5ldyBOb2RlIj48aSBjbGFzcz0iZmFzIGZhLXNpdGVtYXAiPjwvaT48L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBpZD0iYWRkQ29ubmVjdG9yQnRuIiBkYXRhLXRvb2x0aXAtdGV4dD0iQWRkIENvbm5lY3RvciI+PGkgY2xhc3M9ImZhcyBmYS1saW5rIj48L2k+PC9idXR0b24+CiAgICAgIDxidXR0b24gaWQ9InNhdmVCdG4iIGRhdGEtdG9vbHRpcC10ZXh0PSJTYXZlIEZsb3djaGFydCI+PGkgY2xhc3M9ImZhcyBmYS1mbG9wcHktZGlzayI+PC9pPjwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJzaGFyZUJ0biIgZGF0YS10b29sdGlwLXRleHQ9IlNoYXJlIj48aSBjbGFzcz0iZmFzIGZhLXNoYXJlLWFsdCI+PC9pPjwvYnV0dG9uPgogICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9ImZpbGVJbnB1dCIgYWNjZXB0PSIuanNvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7IiAvPgogICAgICA8YnV0dG9uIGlkPSJ1cGxvYWRCdG4iIGRhdGEtdG9vbHRpcC10ZXh0PSJVcGxvYWQgRmxvd2NoYXJ0Ij48aSBjbGFzcz0iZmFzIGZhLXVwbG9hZCI+PC9pPjwvYnV0dG9uPgogICAgICA8ZGl2IGlkPSJmaWxlTmFtZURpc3BsYXkiPk5vIGZpbGUgbG9hZGVkPC9kaXY+CiAgICAgIDxidXR0b24gaWQ9InRoZW1lVG9nZ2xlQnRuIiBkYXRhLXRvb2x0aXAtdGV4dD0iVG9nZ2xlIFRoZW1lIj48aSBjbGFzcz0iZmFzIGZhLW1vb24iPjwvaT48L2J1dHRvbj4KICAgIDwvbmF2PgogIDwvaGVhZGVyPgogIAogIDxkaXYgaWQ9ImNvbG9yLWxlZ2VuZC1kaXNwbGF5Ij48L2Rpdj4KCiAgPGRpdiBpZD0iZmxvd2NoYXJ0Q29udGFpbmVyIj4KICAgIDxzdmcgaWQ9ImZsb3djaGFydCI+CiAgICAgIDxkZWZzPgogICAgICAgIDxwb2x5Z29uIGlkPSJjZW50cmFsLWFycm93LXNoYXBlIiBwb2ludHM9IjAsLTIwIDQwLDAgMCwyMCIgLz4gCiAgICAgIDwvZGVmcz4KICAgIDwvc3ZnPgogIDwvZGl2PgoKICA8ZGl2IGlkPSJtb2RhbCIgY2xhc3M9Im1vZGFsIj48ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij48c3BhbiBjbGFzcz0iY2xvc2UtYnV0dG9uIiBpZD0iY2xvc2VNb2RhbCI+w5c8L3NwYW4+PGgyPlRhc2sgRGV0YWlsczwvaDI+PGZvcm0gaWQ9InRhc2tGb3JtIj48bGFiZWw+VGFzayBOYW1lOiA8dGV4dGFyZWEgaWQ9InRhc2tOYW1lIiByZXF1aXJlZD48L3RleHRhcmVhPjwvbGFiZWw+PGxhYmVsPlJlc3BvbnNpYmxlOiA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InJlc3BvbnNpYmxlIiAvPjwvbGFiZWw+PGxhYmVsPlN0YXR1czo8c2VsZWN0IGlkPSJzdGF0dXMiPjxvcHRpb24gdmFsdWU9Ik5vdCBTdGFydGVkIj5Ob3QgU3RhcnRlZDwvb3B0aW9uPjxvcHRpb24gdmFsdWU9IkluIFByb2dyZXNzIj5JbiBQcm9ncmVzczwvb3B0aW9uPjxvcHRpb24gdmFsdWU9IkNvbXBsZXRlZCI+Q29tcGxldGVkPC9vcHRpb24+PC9zZWxlY3Q+PC9sYWJlbD48bGFiZWw+RGVhZGxpbmU6IDxpbnB1dCB0eXBlPSJkYXRlIiBpZD0iZGVhZGxpbmUiIC8+PC9sYWJlbD48bGFiZWw+UHJpb3JpdHk6PHNlbGVjdCBpZD0icHJpb3JpdHkiPjxvcHRpb24gdmFsdWU9IkxvdyI+TG93PC9vcHRpb24+PG9wdGlvbiB2YWx1ZT0iTm9ybWFsIj5Ob3JtYWw8L29wdGlvbj48b3B0aW9uIHZhbHVlPSJIaWdoIj5IaWdoPC9vcHRpb24+PC9zZWxlY3Q+PC9sYWJlbD4KICA8bGFiZWw+QWN0aW9uIERlc2NyaXB0aW9uIChTdWItdGFza3MpOjwvbGFiZWw+CiAgPHRhYmxlIGlkPSJ0YXNrVGFibGUiPjx0aGVhZD48dHI+PHRoIHN0eWxlPSJ3aWR0aDogMzBweDsiPuKckzwvdGg+PHRoPlRhc2tzPC90aD48L3RyPjwvdGhlYWQ+PHRib2R5PjwvdGJvZHk+PC90YWJsZT48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgaWQ9ImFkZFRhc2tSb3dCdG4iIGNsYXNzPSJtb2RhbC1idG4iPkFkZCBUYXNrPC9idXR0b24+CiAgPGxhYmVsPk5vZGUgQ29sb3I6PC9sYWJlbD4KICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBpZD0ibm9kZUNvbG9yIiAvPgogIDxkaXYgY2xhc3M9ImNvbG9yLXBhbmVsIj4KICAgICAgPGRpdiBjbGFzcz0iY29sb3Itc3dhdGNoIiBkYXRhLWNvbG9yPSIjZTc0YzNjIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY29sb3Itc3dhdGNoIiBkYXRhLWNvbG9yPSIjZjFjNDBmIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY29sb3Itc3dhdGNoIiBkYXRhLWNvbG9yPSIjMmVjYzcxIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY29sb3Itc3dhdGNoIiBkYXRhLWNvbG9yPSIjMzQ5OGRiIj48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY29sb3Itc3dhdGNoIiBkYXRhLWNvbG9yPSIjOWI1OWI2Ij48L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0iY29sb3Itc3dhdGNoIiBkYXRhLWNvbG9yPSIjMzQ0OTVlIj48L2Rpdj4KICA8L2Rpdj4KICA8ZGl2IGNsYXNzPSJhY3Rpb24tYnV0dG9ucyI+PGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJtb2RhbC1idG4iPlNhdmUgTm9kZTwvYnV0dG9uPjwvZGl2PjxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLXRvcDogMjBweDsiPjxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iZGVsZXRlTm9kZUJ0biIgY2xhc3M9Im1vZGFsLWJ0biBkYW5nZXIiPkRlbGV0ZSBOb2RlPC9idXR0b24+PC9kaXY+PC9mb3JtPjwvZGl2PjwvZGl2PgogIDxkaXYgaWQ9InRlbXBsYXRlTW9kYWwiIGNsYXNzPSJtb2RhbCI+PGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+PHNwYW4gY2xhc3M9ImNsb3NlLWJ1dHRvbiIgaWQ9ImNsb3NlVGVtcGxhdGVNb2RhbCI+w5c8L3NwYW4+PGgyPlNlbGVjdCBUZW1wbGF0ZTwvaDI+PGRpdiBzdHlsZT0iZGlzcGxheTogZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsgZ2FwOiAxcmVtOyI+PGJ1dHRvbiBjbGFzcz0ibW9kYWwtYnRuIiBkYXRhLXRlbXBsYXRlPSJwcm90b3R5cGUiPlByb3RvdHlwZSBEZXZlbG9wbWVudDwvYnV0dG9uPjxidXR0b24gY2xhc3M9Im1vZGFsLWJ0biIgZGF0YS10ZW1wbGF0ZT0idmVuZG9yIj5WZW5kb3IgT3V0cmVhY2g8L2J1dHRvbj48YnV0dG9uIGNsYXNzPSJtb2RhbC1idG4iIGRhdGEtdGVtcGxhdGU9Im1hcmtldGluZyI+TWFya2V0aW5nIENhbXBhaWduPC9idXR0b24+PC9kaXY+PC9kaXY+PC9kaXY+CiAgPGRpdiBpZD0idGFza1RleHRQb3B1cCIgY2xhc3M9Im1vZGFsIj48ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij48c3BhbiBjbGFzcz0iY2xvc2UtYnV0dG9uIiBpZD0iY2xvc2VUYXNrUG9wdXAiPsOXPC9zcGFuPjxwIGlkPSJ0YXNrRnVsbFRleHQiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogcHJlLXdyYXA7IG1heC1oZWlnaHQ6IDYwdmg7IG92ZXJmbG93LXk6IGF1dG87Ij48L3A+PGJ1dHRvbiBpZD0iZGVsZXRlVGFza0J0biIgY2xhc3M9Im1vZGFsLWJ0biBkYW5nZXIiPkRlbGV0ZSBUYXNrPC9idXR0b24+PC9kaXY+PC9kaXY+CiAgPGRpdiBpZD0idXNlckd1aWRlTW9kYWwiIGNsYXNzPSJtb2RhbCI+CiAgICA8ZGl2IGNsYXNzPSJtb2RhbC1jb250ZW50Ij4KICAgICAgPHNwYW4gY2xhc3M9ImNsb3NlLWJ1dHRvbiIgaWQ9ImNsb3NlVXNlckd1aWRlTW9kYWwiPsOXPC9zcGFuPgogICAgICA8aDI+8J+TmCBGbG93Q2hhcnQgTWFuYWdlciDigJMgVXNlciBHdWlkZTwvaDI+CiAgICAgIDxwPkZvciBhIGZ1bGwgZ3VpZGUgYW5kIGRlbW8sIHRyeSBvdXIgPGEgaHJlZj0iaHR0cHM6Ly93d3cuc29jaWFsZWFwLm5ldC9mbG93Y2hhcnQtbWFuYWdlci1kZW1vIiB0YXJnZXQ9Il9ibGFuayI+SW50ZXJhY3RpdmUgVHV0b3JpYWw8L2E+LjwvcD4KICAgICAgPGgzPvCfm6DvuI8gSW50ZXJmYWNlIENvbnRyb2xzPC9oMz4KICAgICAgPHVsPgogICAgICAgIDxsaT48Yj7ihqUgVXBsb2FkPC9iPiDigJMgSW1wb3J0IGEgRmxvd0NoYXJ0IChqc29uKSBmaWxlIHRvIGNvbnRpbnVlIHdvcmsgb3IgbG9hZCBhIG5ldyBjaGFydC48L2xpPgogICAgICAgIDxsaT48Yj7wn5K+IFNhdmU8L2I+IOKAkyBTYXZpbmcgYSBGbG93Q2hhcnQgd2lsbCBhbHdheXMgY3JlYXRlIGEgbmV3IGZpbGUgdmVyc2lvbiBlYWNoIHRpbWUuPC9saT4KICAgICAgICA8bGk+PGI+8J+ThCBUZW1wbGF0ZXM8L2I+IOKAkyBTdGFydCB3aXRoIGEgcmVhZHktbWFkZSB0ZW1wbGF0ZSDwn5OEIChQcm90b3R5cGUsIFZlbmRvciwgb3IgTWFya2V0aW5nKS48L2xpPgogICAgICAgIDxsaT48Yj7wn46oIENvbG9yIExlZ2VuZDwvYj4g4oCTIERlZmluZSB3aGF0IGVhY2ggY29sb3IgcmVwcmVzZW50cyBpbiB5b3VyIGZsb3djaGFydC4gVGhlIGxlZ2VuZCB3aWxsIGFwcGVhciBiZWxvdyB0aGUgaGVhZGVyLjwvbGk+CiAgICAgICAgPGxpPjxiPvCfhpUgQWRkIE5vZGU8L2I+IOKAkyBBZGQgYSBuZXcgbm9kZSB0byB0aGUgY2FudmFzLjwvbGk+CiAgICAgICAgPGxpPjxiPisvLSBOb2RlIFNpemUgPC9iPiDigJMgUmVzaXplIHRhc2sgbm9kZXMgZm9yIGJldHRlciB2aXNpYmlsaXR5LjwvbGk+CiAgICAgICAgPGxpPjxiPvCflJcgQWRkIENvbm5lY3RvcjwvYj4gLSBDbGljayB0byBlbnRlciAnQ29ubmVjdG9yIE1vZGUsJyB0aGVuIGNsaWNrIHR3byBub2RlcyB0byBsaW5rIHRoZW0uPC9saT4KICAgICAgICA8bGk+PGI+4puT77iP4oCN8J+SpSBEZWxldGUgYSBDb25uZWN0b3I8L2I+IC0gQ2xpY2sgZGlyZWN0bHkgb24gYSBjb25uZWN0b3IgbGluZSB0byBicmluZyB1cCBhIGNvbmZpcm1hdGlvbiB0byBkZWxldGUgaXQuPC9saT4KICAgICAgICA8bGk+4oS577iOIFVzZSB5b3VyIG1vdXNlIHRvIGRyYWcgZW50aXJlIENhbnZhcy48L2xpPgogICAgICAgIDxsaT5Vc2UgbW91c2Ugd2hlZWwgdG8gZnVydGhlciBlbmxhcmdlL3NocmluayBub2Rlcy48L2xpPgogICAgICAgIDxsaT48Yj5TaGFyZTwvYj4g4oCTIFRlbGwgeW91ciBmcmllbmRzL2NvbGxlYWd1ZXMgYWJvdXQgRmxvd0NoYXJ0IS48L2xpPgogICAgICA8L3VsPgogICAgICA8aDM+8J+nqSBXb3JraW5nIHdpdGggVGFza3M8L2gzPgogICAgICA8dWw+CiAgICAgICAgPGxpPkNsaWNrIGFueSBub2RlIHRvIHZpZXcgb3IgZWRpdCBpdHMgZGV0YWlscy48L2xpPgogICAgICAgIDxsaT5UbyB2aWV3IGZ1bGwgc3ViLXRhc2sgZGV0YWlscywgaW5jbHVkaW5nIGNsaWNrYWJsZSBsaW5rcywgY2xpY2sgdGhlIDxpIGNsYXNzPSJmYXMgZmEtZXllIj48L2k+IGljb24gbmV4dCB0byB0aGUgdGFzay48L2xpPgogICAgICAgIDxsaT5UbyBkZWxldGUgYSBzcGVjaWZpYyBzdWItdGFzaywgdXNlIHRoZSAiRGVsZXRlIFRhc2siIGJ1dHRvbiBhZnRlciB2aWV3aW5nIGl0IGluIHRoZSBwb3B1cC48L2xpPgogICAgICAgIDxsaT5Db21wbGV0aW5nIGZpZWxkcyBsaWtlIFJlc3BvbnNpYmxlLCBEZWFkbGluZSwgYW5kIFByaW9yaXR5IGhlbHBzIGFsaWduIHlvdXIgd29ya2Zsb3csIHRyYWNrIHByb2dyZXNzLCBhbmQgbWFpbnRhaW4gY2xhcml0eS48L2xpPgogICAgICA8L3VsPgogICAgICAgPGgzPjxpIGNsYXNzPSJmYXMgZmEtbGlnaHRidWxiIj48L2k+IEdQVCBGbG93Q2hhcnQgQXNzaXN0YW50PC9oMz4KICAgICAgICA8dWw+CiAgICAgICAgICAgIDxsaT5XaGVuIGluaXRpYXRpbmcgdGhl8J+SoUFJIEFzc2lzdGFudCwgZW5zdXJlIHRoYXQgeW91IGRlYWN0aXZhdGUgJ0Z1bGwgU2NyZWVuJyBtb2RlIG9mIHlvdXIgYnJvd3NlciBzbyB0aGF0IHRoZSBBc3Npc3RhbnQgd2lsbCBvdmVybGFwLjwvbGk+CiAgICAgICAgICAgIDxsaT5DbGljayB0aGUg8J+SoSBidXR0b24gdG8gb3BlbiBvdXIgRmxvd0NoYXJ0IEFJIEFzc2lzdGFudC4gPC9saT4KICAgICAgICAgICAgPGxpPkFzayB0aGUgQUkgYXNzaXN0YW50IHRvOgogICAgICAgICAgICAgICAgPHVsIHN0eWxlPSJtYXJnaW4tdG9wOiAwLjVlbTsiPgogICAgICAgICAgICAgICAgICAgIDxsaT5BbmFseXplIGFuZCBzdWdnZXN0IGltcHJvdmVtZW50czwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPlByb3ZpZGUgaW5zaWdodHMsIHN1bW1hcmllcywgcmVwb3J0czwvbGk+CiAgICAgICAgICAgICAgICAgICAgPGxpPlVwZGF0ZS9BZGQvRGVsZXRlIG5vZGUgdGl0bGVzLCBkZWFkbGluZXMsIHRhc2tzLCBldGMuPC9saT4KICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDwvbGk+CiAgICAgICAgPC91bD4KICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tdG9wOiAycmVtOyI+CiAgICA8YSBocmVmPSJodHRwczovL2Zvcm0uam90Zm9ybS5jb20vVHJhbnNjZW5kZW5jZV9NZWRpYS9mbG93Y2hhcnQtZmVlZGJhY2stZm9ybSIgdGFyZ2V0PSJfYmxhbmsiIGNsYXNzPSJtb2RhbC1idG4iIHN0eWxlPSJ0ZXh0LWRlY29yYXRpb246IG5vbmU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsiPgogICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY29tbWVudC1hbHQiPjwvaT4gU2hhcmUgWW91ciBGZWVkYmFjawogICAgPC9hPgo8L2Rpdj4KPC9kaXY+CiAgPC9kaXY+CiAgPGRpdiBpZD0iY29ubmVjdG9yT3B0aW9uc01vZGFsIiBjbGFzcz0ibW9kYWwiPgogICAgPGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+CiAgICAgICAgPHNwYW4gY2xhc3M9ImNsb3NlLWJ1dHRvbiIgaWQ9ImNsb3NlQ29ubmVjdG9yT3B0aW9uc01vZGFsIj7Dlzwvc3Bhbj4KICAgICAgICA8aDI+Q29ubmVjdG9yIE9wdGlvbnM8L2gyPgogICAgICAgIDxmb3JtIGlkPSJjb25uZWN0b3JPcHRpb25zRm9ybSI+CiAgICAgICAgICAgIDxsYWJlbD5MaW5lIFN0eWxlOjwvbGFiZWw+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InN0eWxlLW9wdGlvbnMiPgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJtb2RhbC1idG4gbGluZS1zdHlsZS1idG4iIGRhdGEtc3R5bGU9InNvbGlkIj48aSBjbGFzcz0iZmFzIGZhLW1pbnVzIj48L2k+IFNvbGlkPC9idXR0b24+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9Im1vZGFsLWJ0biBsaW5lLXN0eWxlLWJ0biIgZGF0YS1zdHlsZT0iZG90dGVkIj48aSBjbGFzcz0iZmFzIGZhLWRvdC1jaXJjbGUiPjwvaT4gRG90dGVkPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGxhYmVsPkFycm93OjwvbGFiZWw+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFycm93LWNvbnRyb2xzLWdyb3VwIj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0ibW9kYWwtYnRuIGFycm93LWNvbnRyb2wtYnRuIiBpZD0iYWRkUmVtb3ZlQXJyb3dCdG4iPjxpIGNsYXNzPSJmYXMgZmEtcGx1cy1jaXJjbGUiIGlkPSJhZGRSZW1vdmVBcnJvd0ljb24iPjwvaT4gPHNwYW4gaWQ9ImFkZFJlbW92ZUFycm93VGV4dCI+QWRkIEFycm93PC9zcGFuPjwvYnV0dG9uPgogICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJtb2RhbC1idG4gYXJyb3ctY29udHJvbC1idG4iIGlkPSJzd2l0Y2hBcnJvd0RpcmVjdGlvbkJ0biI+PGkgY2xhc3M9ImZhcyBmYS1hcnJvd3MtYWx0LWgiPjwvaT4gU3dpdGNoIERpcmVjdGlvbjwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Imxpbmstb3B0aW9ucy1hY3Rpb24tYnV0dG9ucyI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCIgY2xhc3M9Im1vZGFsLWJ0biIgaWQ9InNhdmVDb25uZWN0b3JPcHRpb25zQnRuIj5TYXZlIE9wdGlvbnM8L2J1dHRvbj4KICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iY29uZmlybURlbGV0ZUxpbmtCdG4iIGNsYXNzPSJtb2RhbC1idG4gZGFuZ2VyIj5EZWxldGUgQ29ubmVjdG9yPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZm9ybT4KICAgIDwvZGl2PgogIDwvZGl2PgogIDxkaXYgaWQ9InNoYXJlTW9kYWwiIGNsYXNzPSJtb2RhbCI+PGRpdiBjbGFzcz0ibW9kYWwtY29udGVudCI+PHNwYW4gY2xhc3M9ImNsb3NlLWJ1dHRvbiIgaWQ9ImNsb3NlU2hhcmVNb2RhbCI+w5c8L3NwYW4+PGgyPlNoYXJlIEZsb3djaGFydDwvaDI+PGlmcmFtZSBzcmM9Imh0dHBzOi8vdmlldy5nZW5pYWxseS5jb20vNjg0NWE5OGVlNDUwNGM3NTRiODNmNDIxIiBhbGxvd2Z1bGxzY3JlZW49InRydWUiIHNjcm9sbGluZz0ibm8iIGZyYW1lYm9yZGVyPSIwIj48L2lmcmFtZT48L2Rpdj48L2Rpdj4KICA8ZGl2IGlkPSJwcm9qZWN0RGVzY01vZGFsIiBjbGFzcz0ibW9kYWwiPjxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPjxzcGFuIGNsYXNzPSJjbG9zZS1idXR0b24iIGlkPSJjbG9zZVByb2plY3REZXNjTW9kYWwiPsOXPC9zcGFuPjxoMj5Qcm9qZWN0IERlc2NyaXB0aW9uPC9oMj48cCBpZD0icHJvamVjdFN1bW1hcnkiPjwvcD48cCBpZD0icHJvamVjdEdlbmVyYXRlZERhdGUiPjwvcD48L2Rpdj48L2Rpdj4KICA8ZGl2IGlkPSJjb2xvckxlZ2VuZE1vZGFsIiBjbGFzcz0ibW9kYWwiPjxkaXYgY2xhc3M9Im1vZGFsLWNvbnRlbnQiPjxzcGFuIGNsYXNzPSJjbG9zZS1idXR0b24iIGlkPSJjbG9zZUNvbG9yTGVnZW5kTW9kYWwiPsOXPC9zcGFuPjxoMj5FZGl0IENvbG9yIExlZ2VuZDwvaDI+PGZvcm0gaWQ9ImNvbG9yTGVnZW5kRm9ybSI+PHA+RGVmaW5lIHdoYXQgZWFjaCBjb2xvciByZXByZXNlbnRzLiBUaGVzZSB3aWxsIGJlIHNob3duIGluIGEgbGVnZW5kIGJlbG93IHRoZSBoZWFkZXIuPC9wPjxkaXYgaWQ9ImNvbG9yLWxlZ2VuZC1lbnRyaWVzIj48L2Rpdj48ZGl2IGNsYXNzPSJhY3Rpb24tYnV0dG9ucyI+PGJ1dHRvbiB0eXBlPSJzdWJtaXQiIGNsYXNzPSJtb2RhbC1idG4iPlNhdmUgTGVnZW5kPC9idXR0b24+PC9kaXY+PC9mb3JtPjwvZGl2PjwvZGl2PgogIDxkaXYgaWQ9InRvb2x0aXAiPjwvZGl2PgoKICA8c2NyaXB0PgogICAgbGV0IHNlbGVjdGVkTm9kZSA9IG51bGwsIHNlbGVjdGVkTGluayA9IG51bGwsCiAgICAgIGRhdGEgPSB7IGZsb3djaGFydE5hbWU6ICdVbnRpdGxlZCBGbG93Y2hhcnQnLCBwcm9qZWN0RGVzY3JpcHRpb246IHsgc3VtbWFyeTogJycsIGdlbmVyYXRlZERhdGU6ICcnIH0sIG5vZGVzOiBbXSwgbGlua3M6IFtdLCBjb2xvckxlZ2VuZDoge30sIGxpbmVMZWdlbmQ6IHsgInNvbGlkIjogIlN0YW5kYXJkIENvbm5lY3Rpb24iLCAiZG90dGVkIjogIk9wdGlvbmFsIC8gUmVsYXRlZCBDb25uZWN0aW9uIiB9IH0sIC8vIEFEREVEIGxpbmVMZWdlbmQgZGVmYXVsdAogICAgICBzaW11bGF0aW9uLCBzdmcsIG5vZGVHcm91cCwgbGlua0dyb3VwLCBtYWluWm9vbUdyb3VwLAogICAgICBpc0luaXRpYWxMYXlvdXQgPSB0cnVlOwogICAgY29uc3QgQkFTRV9OT0RFX0RJTUVOU0lPTiA9IDE2MDsKICAgIGxldCBjdXJyZW50Tm9kZVNpemVGYWN0b3IgPSAxLjA7CiAgICBjb25zdCBNSU5fTk9ERV9TSVpFX0ZBQ1RPUiA9IDAuNSwgTUFYX05PREVfU0laRV9GQUNUT1IgPSAxLjUsIE5PREVfU0laRV9TVEVQID0gMC4xOwogICAgbGV0IGNvbm5lY3Rvck1vZGUgPSBmYWxzZSwgY29ubmVjdG9yU3RhcnROb2RlID0gbnVsbDsKICAgIGNvbnN0IGcgPSAoaWQpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTsKCiAgICBmdW5jdGlvbiBoZXhUb1JnYmEoaGV4LCBhbHBoYSA9IDEpIHsKICAgICAgaWYgKCFoZXggfHwgdHlwZW9mIGhleCAhPT0gJ3N0cmluZycpIHJldHVybiBgcmdiYSgyMDAsMjAwLDIwMCwke2FscGhhfSlgOwogICAgICBoZXggPSBoZXgucmVwbGFjZSgnIycsICcnKTsgbGV0IHIgPSAwLCBnID0gMCwgYiA9IDA7CiAgICAgIGlmIChoZXgubGVuZ3RoID09PSAzKSB7IHIgPSBwYXJzZUludChoZXhbMF0gKyBoZXhbMF0sIDE2KTsgZyA9IHBhcnNlSW50KGhleFsxXSArIGhleFsxXSwgMTYpOyBiID0gcGFyc2VJbnQoaGV4WzJdICsgaGV4WzJdLCAxNik7IH0gCiAgICAgIGVsc2UgaWYgKGhleC5sZW5ndGggPT09IDYpIHsgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMCwgMiksIDE2KTsgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMiwgNCksIDE2KTsgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNCwgNiksIDE2KTsgfSAKICAgICAgZWxzZSB7IHJldHVybiBgcmdiYSgxMjgsIDEyOCwgMTI4LCAke2FscGhhfSlgOyB9CiAgICAgIGlmIChpc05hTihyKSB8fCBpc05hTihnKSB8fCBpc05hTihiKSkgcmV0dXJuIGByZ2JhKCR7cn0sJHtnfSwke2J9LCR7YWxwaGF9KWA7CiAgICAgIHJldHVybiBgcmdiYSgke3J9LCR7Z30sJHtifSwke2FscGhhfSlgOwogICAgfQoKICAgIGZ1bmN0aW9uIHNob3dDb2xvclN3YXRjaFRvb2x0aXAoZXZlbnQpIHsKICAgICAgICBjb25zdCB0b29sdGlwRWxlbWVudCA9IGcoJ3Rvb2x0aXAnKTsKICAgICAgICBjb25zdCBzd2F0Y2ggPSBldmVudC5jdXJyZW50VGFyZ2V0OwogICAgICAgIGNvbnN0IGNvbG9yID0gc3dhdGNoLmRhdGFzZXQuY29sb3I7CiAgICAgICAgbGV0IHRvb2x0aXBUZXh0ID0gJyc7CgogICAgICAgIGlmIChkYXRhLmNvbG9yTGVnZW5kICYmIGRhdGEuY29sb3JMZWdlbmRbY29sb3JdKSB7CiAgICAgICAgICAgIHRvb2x0aXBUZXh0ID0gZGF0YS5jb2xvckxlZ2VuZFtjb2xvcl07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgcmdiID0gaGV4VG9SZ2JhKGNvbG9yLCAxKS5yZXBsYWNlKCdyZ2JhKCcsICdSR0IoJykucmVwbGFjZSgnLDEpJywgJyknKTsKICAgICAgICAgICAgdG9vbHRpcFRleHQgPSBgJHtyZ2J9YDsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgdG9vbHRpcEVsZW1lbnQudGV4dENvbnRlbnQgPSB0b29sdGlwVGV4dDsKICAgICAgICBjb25zdCByZWN0ID0gc3dhdGNoLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHRvb2x0aXBFbGVtZW50LnN0eWxlLnRvcCA9IGAke3JlY3QuYm90dG9tICsgOH1weGA7CiAgICAgICAgdG9vbHRpcEVsZW1lbnQuc3R5bGUubGVmdCA9IGAke3JlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyfXB4YDsKICAgICAgICB0b29sdGlwRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7CiAgICB9CgogICAgZnVuY3Rpb24gaGlkZVRvb2x0aXAoKSB7CiAgICAgICAgZygndG9vbHRpcCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTYWZlUG9zaXRpb25pbmdBcmVhKCkgewogICAgICAgIGNvbnN0IGZjQ29udCA9IGcoJ2Zsb3djaGFydENvbnRhaW5lcicpOwogICAgICAgIGNvbnN0IGNvbnRhaW5lcldpZHRoID0gZmNDb250LmNsaWVudFdpZHRoOwogICAgICAgIGNvbnN0IGNvbnRhaW5lckhlaWdodCA9IGZjQ29udC5jbGllbnRIZWlnaHQ7CiAgICAgICAgCiAgICAgICAgY29uc3QgdkIgPSBzdmcuYXR0cigndmlld0JveCcpLnNwbGl0KCcgJyk7CiAgICAgICAgY29uc3Qgdmlld0JveFdpZHRoID0gcGFyc2VGbG9hdCh2QlsyXSk7CiAgICAgICAgY29uc3Qgdmlld0JveEhlaWdodCA9IHBhcnNlRmxvYXQodkJbM10pOwogICAgICAgIAogICAgICAgIGNvbnN0IHRvcE1hcmdpblBlcmNlbnQgPSAwLjE1OyAKICAgICAgICBjb25zdCBzaWRlTWFyZ2luUGVyY2VudCA9IDAuMTsgCiAgICAgICAgY29uc3QgYm90dG9tTWFyZ2luUGVyY2VudCA9IDAuMTsgCiAgICAgICAgCiAgICAgICAgY29uc3QgdG9wTWFyZ2luID0gdmlld0JveEhlaWdodCAqIHRvcE1hcmdpblBlcmNlbnQ7CiAgICAgICAgY29uc3Qgc2lkZU1hcmdpbiA9IHZpZXdCb3hXaWR0aCAqIHNpZGVNYXJnaW5QZXJjZW50OwogICAgICAgIGNvbnN0IGJvdHRvbU1hcmdpbiA9IHZpZXdCb3hIZWlnaHQgKiBib3R0b21NYXJnaW5QZXJjZW50OwogICAgICAgIAogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxlZnQ6IHNpZGVNYXJnaW4sCiAgICAgICAgICAgIHJpZ2h0OiB2aWV3Qm94V2lkdGggLSBzaWRlTWFyZ2luLAogICAgICAgICAgICB0b3A6IHRvcE1hcmdpbiwKICAgICAgICAgICAgYm90dG9tOiB2aWV3Qm94SGVpZ2h0IC0gYm90dG9tTWFyZ2luLAogICAgICAgICAgICBjZW50ZXJYOiB2aWV3Qm94V2lkdGggLyAyLAogICAgICAgICAgICBjZW50ZXJZOiB0b3BNYXJnaW4gKyAodmlld0JveEhlaWdodCAtIHRvcE1hcmdpbiAtIGJvdHRvbU1hcmdpbikgLyAyLAogICAgICAgICAgICB3aWR0aDogdmlld0JveFdpZHRoIC0gMiAqIHNpZGVNYXJnaW4sCiAgICAgICAgICAgIGhlaWdodDogdmlld0JveEhlaWdodCAtIHRvcE1hcmdpbiAtIGJvdHRvbU1hcmdpbgogICAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdEQzKCkgewogICAgICAgIGNvbnN0IGZjQ29udCA9IGcoJ2Zsb3djaGFydENvbnRhaW5lcicpOwogICAgICAgIGNvbnN0IGNXID0gZmNDb250LmNsaWVudFdpZHRoLCBjSCA9IGZjQ29udC5jbGllbnRIZWlnaHQ7CiAgICAgICAgY29uc3QgdlcgPSBNYXRoLm1heChjVyAqIDEuNSwgMjAwMCksIHZIID0gTWF0aC5tYXgoY0ggKiAxLjUsIDE1MDApOwogICAgICAgIAogICAgICAgIHN2ZyA9IGQzLnNlbGVjdCgnI2Zsb3djaGFydCcpLmF0dHIoJ3ZpZXdCb3gnLCBgMCAwICR7dld9ICR7dkh9YCk7CiAgICAgICAgCiAgICAgICAgc3ZnLmh0bWwoJycpOyAKCiAgICAgICAgc3ZnLmFwcGVuZCgnZGVmcycpCiAgICAgICAgICAgIC5hcHBlbmQoJ3BvbHlnb24nKQogICAgICAgICAgICAuYXR0cignaWQnLCAnY2VudHJhbC1hcnJvdy1zaGFwZScpCiAgICAgICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMCwtMjAgNDAsMCAwLDIwJyk7IAoKICAgICAgICBtYWluWm9vbUdyb3VwID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3pvb20tZ3JvdXAnKTsKICAgICAgICBsaW5rR3JvdXAgPSBtYWluWm9vbUdyb3VwLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2xpbmtzJyk7CiAgICAgICAgbm9kZUdyb3VwID0gbWFpblpvb21Hcm91cC5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdub2RlcycpOwogICAgICAgIAogICAgICAgIGNvbnN0IGNlbnRlclggPSB2VyAvIDI7CiAgICAgICAgY29uc3QgY2VudGVyWSA9IHZIICogMC40OyAKICAgICAgICAKICAgICAgICBzaW11bGF0aW9uID0gZDMuZm9yY2VTaW11bGF0aW9uKCkKICAgICAgICAgICAgLmZvcmNlKCdjaGFyZ2UnLCBkMy5mb3JjZU1hbnlCb2R5KCkuc3RyZW5ndGgoLTE4MDAgKiAoQkFTRV9OT0RFX0RJTUVOU0lPTiAvIDE2MCkpKQogICAgICAgICAgICAuZm9yY2UoJ2NvbGxpZGUnLCBkMy5mb3JjZUNvbGxpZGUoKS5yYWRpdXMoKEJBU0VfTk9ERV9ESU1FTlNJT04gKiAwLjU1KSArIDI1KS5zdHJlbmd0aCgwLjkpKQogICAgICAgICAgICAuZm9yY2UoJ2NlbnRlcicsIGQzLmZvcmNlQ2VudGVyKGNlbnRlclgsIGNlbnRlclkpKTsKICAgICAgICAgICAgCiAgICAgICAgY29uc3Qgem9vbSA9IGQzLnpvb20oKQogICAgICAgICAgICAuZmlsdGVyKGV2ZW50ID0+ICFldmVudC50YXJnZXQuY2xvc2VzdCgnLm5vZGUtZ3JvdXAnKSkKICAgICAgICAgICAgLm9uKCd6b29tJywgKGV2ZW50KSA9PiB7CiAgICAgICAgICAgICAgICBtYWluWm9vbUdyb3VwLmF0dHIoJ3RyYW5zZm9ybScsIGV2ZW50LnRyYW5zZm9ybSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIHN2Zy5jYWxsKHpvb20pLm9uKCJkYmxjbGljay56b29tIiwgbnVsbCk7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIHRpY2tlZCgpIHsKICAgICAgICBjb25zdCBjdXJyZW50U2NhbGVkRGltZW5zaW9uID0gQkFTRV9OT0RFX0RJTUVOU0lPTiAqIGN1cnJlbnROb2RlU2l6ZUZhY3RvcjsKICAgICAgICBub2RlR3JvdXAuc2VsZWN0QWxsKCdnLm5vZGUtZ3JvdXAnKQogICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZCA9PiBgdHJhbnNsYXRlKCR7ZC54fSwke2QueX0pYCk7CiAgICAgICAgCiAgICAgICAgbGlua0dyb3VwLnNlbGVjdEFsbCgnLmxpbmstY29udGFpbmVyJykuZWFjaChmdW5jdGlvbihkKSB7CiAgICAgICAgICAgIGlmIChkLnNvdXJjZSAmJiBkLnRhcmdldCkgewogICAgICAgICAgICAgICAgY29uc3Qgc291cmNlUG9pbnQgPSBnZXRJbnRlcnNlY3Rpb25Qb2ludChkLnNvdXJjZSwgZC50YXJnZXQsIGN1cnJlbnRTY2FsZWREaW1lbnNpb24sIGN1cnJlbnRTY2FsZWREaW1lbnNpb24pOwogICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0UG9pbnQgPSBnZXRJbnRlcnNlY3Rpb25Qb2ludChkLnRhcmdldCwgZC5zb3VyY2UsIGN1cnJlbnRTY2FsZWREaW1lbnNpb24sIGN1cnJlbnRTY2FsZWREaW1lbnNpb24pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuc2VsZWN0QWxsKCdsaW5lJykgCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgc291cmNlUG9pbnQueCkKICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBzb3VyY2VQb2ludC55KQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHRhcmdldFBvaW50LngpCiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgdGFyZ2V0UG9pbnQueSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgbWFpblpvb21Hcm91cC5zZWxlY3RBbGwoJ2cubGluay1hcnJvdycpLmVhY2goZnVuY3Rpb24oZCkgewogICAgICAgICAgICBpZiAoIWQuc291cmNlIHx8ICFkLnRhcmdldCkgcmV0dXJuOyAKCiAgICAgICAgICAgIGNvbnN0IHN4ID0gZC5zb3VyY2UueCwgc3kgPSBkLnNvdXJjZS55OwogICAgICAgICAgICBjb25zdCB0eCA9IGQudGFyZ2V0LngsIHR5ID0gZC50YXJnZXQueTsKCiAgICAgICAgICAgIGNvbnN0IG1pZFggPSAoc3ggKyB0eCkgLyAyOwogICAgICAgICAgICBjb25zdCBtaWRZID0gKHN5ICsgdHkpIC8gMjsKICAgICAgICAgICAgY29uc3QgYW5nbGVSYWQgPSBNYXRoLmF0YW4yKHR5IC0gc3ksIHR4IC0gc3gpOwogICAgICAgICAgICBsZXQgYW5nbGVEZWcgPSBhbmdsZVJhZCAqIDE4MCAvIE1hdGguUEk7CgogICAgICAgICAgICBpZiAoZC5hcnJvd0RpcmVjdGlvbiA9PT0gJ2JhY2t3YXJkJykgeyAKICAgICAgICAgICAgICAgIGFuZ2xlRGVnICs9IDE4MDsgCiAgICAgICAgICAgIH0gCiAgICAgICAgICAgIAogICAgICAgICAgICBkMy5zZWxlY3QodGhpcykKICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7bWlkWH0sJHttaWRZfSkgcm90YXRlKCR7YW5nbGVEZWd9KWApOwogICAgICAgIH0pOwogICAgfQoKICAgIGNvbnN0IGRyYWcgPSBkMy5kcmFnKCkKICAgICAgICAub24oJ3N0YXJ0JywgZnVuY3Rpb24oZXZlbnQsIGQpIHsKICAgICAgICAgICAgaWYgKCFldmVudC5hY3RpdmUpIHNpbXVsYXRpb24uYWxwaGFUYXJnZXQoMC4zKS5yZXN0YXJ0KCk7CiAgICAgICAgICAgIGQuZnggPSBkLng7CiAgICAgICAgICAgIGQuZnkgPSBkLnk7CiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5jbGFzc2VkKCdkcmFnZ2luZycsIHRydWUpOwogICAgICAgIH0pCiAgICAgICAgLm9uKCdkcmFnJywgZnVuY3Rpb24oZXZlbnQsIGQpIHsKICAgICAgICAgICAgZC5meCA9IGV2ZW50Lng7CiAgICAgICAgICAgIGQuZnkgPSBldmVudC55OwogICAgICAgIH0pCiAgICAgICAgLm9uKCdlbmQnLCBmdW5jdGlvbihldmVudCwgZCkgewogICAgICAgICAgICBpZiAoIWV2ZW50LmFjdGl2ZSkgc2ltdWxhdGlvbi5hbHBoYVRhcmdldCgwKTsKICAgICAgICAgICAgZC5meCA9IGQueDsgCiAgICAgICAgICAgIGQuZnkgPSBkLnk7IAogICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgnZHJhZ2dpbmcnLCBmYWxzZSk7CiAgICAgICAgfSk7CiAgICAKICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgICBpZiAoIXN2ZyB8fCAhc2ltdWxhdGlvbikgcmV0dXJuOwogICAgICAgIHVwZGF0ZUxlZ2VuZERpc3BsYXkoKTsKICAgICAgICAKICAgICAgICBzaW11bGF0aW9uLm5vZGVzKGRhdGEubm9kZXMpLm9uKCJ0aWNrIiwgdGlja2VkKTsKCiAgICAgICAgaWYoZGF0YS5saW5rcy5sZW5ndGggPiAwKSB7IAogICAgICAgICAgICBzaW11bGF0aW9uLmZvcmNlKCdsaW5rJywgZDMuZm9yY2VMaW5rKGRhdGEubGlua3MpLmlkKGQgPT4gZC5pZCkuZGlzdGFuY2UoMjUwKS5zdHJlbmd0aCgwLjA1KSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2ltdWxhdGlvbi5mb3JjZSgnbGluaycsIG51bGwpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGlzSW5pdGlhbExheW91dCkgewogICAgICAgICAgICBjb25zdCBoYXNQb3NpdGlvbnMgPSBkYXRhLm5vZGVzLmV2ZXJ5KG4gPT4gdHlwZW9mIG4ueCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIG4ueSA9PT0gJ251bWJlcicpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCFoYXNQb3NpdGlvbnMpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHNhZmVBcmVhID0gZ2V0U2FmZVBvc2l0aW9uaW5nQXJlYSgpOwogICAgICAgICAgICAgICAgZGF0YS5ub2Rlcy5mb3JFYWNoKChkLCBpKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgZC54ID0gc2FmZUFyZWEuY2VudGVyWCArIChpICUgMiA9PT0gMCA/IDEgOiAtMSkgKiAxNTAgKiAoTWF0aC5mbG9vcihpIC8gMikgKyAxKTsKICAgICAgICAgICAgICAgICAgICBkLnkgPSBzYWZlQXJlYS5jZW50ZXJZICsgKGkgJSAzIC0gMSkgKiAxMDA7CiAgICAgICAgICAgICAgICAgICAgZC5meCA9IGQueDsKICAgICAgICAgICAgICAgICAgICBkLmZ5ID0gZC55OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgZGF0YS5ub2Rlcy5mb3JFYWNoKGQgPT4gewogICAgICAgICAgICAgICAgICAgIGQuZnggPSBkLng7CiAgICAgICAgICAgICAgICAgICAgZC5meSA9IGQueTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlzSW5pdGlhbExheW91dCA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgbGV0IGxpbmtDb250YWluZXIgPSBsaW5rR3JvdXAuc2VsZWN0QWxsKCdnLmxpbmstY29udGFpbmVyJykKICAgICAgICAgICAgLmRhdGEoZGF0YS5saW5rcywgZCA9PiBgJHtkLnNvdXJjZS5pZCB8fCBkLnNvdXJjZX0tJHtkLnRhcmdldC5pZCB8fCBkLnRhcmdldH1gKTsKCiAgICAgICAgbGlua0NvbnRhaW5lci5leGl0KCkucmVtb3ZlKCk7CgogICAgICAgIGxldCBsaW5rQ29udGFpbmVyRW50ZXIgPSBsaW5rQ29udGFpbmVyLmVudGVyKCkuYXBwZW5kKCdnJykKICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmstY29udGFpbmVyJyk7CiAgICAgICAgCiAgICAgICAgbGlua0NvbnRhaW5lckVudGVyLmFwcGVuZCgnbGluZScpCiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5rLWhpdC1hcmVhJykKICAgICAgICAgICAgLm9uKCdjbGljaycsIGxpbmtDbGlja0hhbmRsZXIpOyAKCiAgICAgICAgbGlua0NvbnRhaW5lckVudGVyLmFwcGVuZCgnbGluZScpCiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5rLXZpc2libGUnKQogICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJ3ZhcigtLWxpbmstY29sb3IpJykKICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDIuNSk7CgogICAgICAgIGxpbmtDb250YWluZXIgPSBsaW5rQ29udGFpbmVyRW50ZXIubWVyZ2UobGlua0NvbnRhaW5lcik7CgogICAgICAgIGxpbmtDb250YWluZXIuY2xhc3NlZCgnc2VsZWN0ZWQnLCBkID0+IGQgPT09IHNlbGVjdGVkTGluayk7CiAgICAgICAgCiAgICAgICAgbGlua0NvbnRhaW5lci5zZWxlY3QoJ2xpbmUubGluay12aXNpYmxlJykKICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCBkID0+IGQubGluZVN0eWxlID09PSAnZG90dGVkJyA/ICc1LDUnIDogJ25vbmUnKTsKCiAgICAgICAgbGV0IGFycm93cyA9IG1haW5ab29tR3JvdXAuc2VsZWN0QWxsKCdnLmxpbmstYXJyb3cnKQogICAgICAgICAgICAuZGF0YShkYXRhLmxpbmtzLmZpbHRlcihkID0+IGQuYXJyb3dEaXJlY3Rpb24gPT09ICdmb3J3YXJkJyB8fCBkLmFycm93RGlyZWN0aW9uID09PSAnYmFja3dhcmQnKSwgZCA9PiBkLmlkKTsKCiAgICAgICAgYXJyb3dzLmV4aXQoKS5yZW1vdmUoKTsgCgogICAgICAgIGxldCBhcnJvd3NFbnRlciA9IGFycm93cy5lbnRlcigpLmFwcGVuZCgnZycpCiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5rLWFycm93JykKICAgICAgICAgICAgLmFwcGVuZCgndXNlJykKICAgICAgICAgICAgLmF0dHIoJ2hyZWYnLCAnI2NlbnRyYWwtYXJyb3ctc2hhcGUnKTsgCgogICAgICAgIGFycm93cyA9IGFycm93c0VudGVyLm1lcmdlKGFycm93cyk7IAoKICAgICAgICBhcnJvd3Muc2VsZWN0KCd1c2UnKS5hdHRyKCdmaWxsJywgJ3ZhcigtLWxpbmstY29sb3IpJyk7IAoKICAgICAgICBsZXQgbm9kZSA9IG5vZGVHcm91cC5zZWxlY3RBbGwoJ2cubm9kZS1ncm91cCcpLmRhdGEoZGF0YS5ub2RlcywgZCA9PiBkLmlkKTsKICAgICAgICBub2RlLmV4aXQoKS5yZW1vdmUoKTsKICAgICAgICAKICAgICAgICBjb25zdCBub2RlRW50ZXIgPSBub2RlLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbm9kZS1ncm91cCcpLmNhbGwoZHJhZyk7CiAgICAgICAgCiAgICAgICAgbm9kZUVudGVyLmFwcGVuZCgnZm9yZWlnbk9iamVjdCcpCiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdmbG93Y2hhcnQtbm9kZS1odG1sLXdyYXBwZXInKQogICAgICAgICAgICAuYXBwZW5kKCd4aHRtbDpkaXYnKS5hdHRyKCdjbGFzcycsICdmbG93Y2hhcnQtbm9kZS1odG1sJyk7CiAgICAgICAgCiAgICAgICAgbm9kZSA9IG5vZGVFbnRlci5tZXJnZShub2RlKTsKICAgICAgICAKICAgICAgICBub2RlLm9uKCdjbGljaycsIChldmVudCwgZCkgPT4gewogICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuOyAKICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgIGlmIChjb25uZWN0b3JNb2RlKSB7CiAgICAgICAgICAgICAgICBpZiAoIWNvbm5lY3RvclN0YXJ0Tm9kZSkgewogICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvclN0YXJ0Tm9kZSA9IGQ7CiAgICAgICAgICAgICAgICAgICAgZDMuc2VsZWN0KGV2ZW50LmN1cnJlbnRUYXJnZXQpLnNlbGVjdCgnLmZsb3djaGFydC1ub2RlLWh0bWwnKS5zdHlsZSgnb3V0bGluZScsICczcHggc29saWQgdmFyKC0tbGluay1zZWxlY3RlZC1jb2xvciknKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZC5pZCAhPT0gY29ubmVjdG9yU3RhcnROb2RlLmlkKSB7CiAgICAgICAgICAgICAgICAgICAgbm9kZUdyb3VwLnNlbGVjdEFsbCgnLmZsb3djaGFydC1ub2RlLWh0bWwnKS5zdHlsZSgnb3V0bGluZScsICdub25lJyk7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua0V4aXN0cyA9IGRhdGEubGlua3Muc29tZShsID0+IAogICAgICAgICAgICAgICAgICAgICAgICAoKGwuc291cmNlLmlkIHx8IGwuc291cmNlKSA9PT0gY29ubmVjdG9yU3RhcnROb2RlLmlkICYmIChsLnRhcmdldC5pZCB8fCBsLnRhcmdldCkgPT09IGQuaWQpIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICgobC5zb3VyY2UuaWQgfHwgbC5zb3VyY2UpID09PSBkLmlkICYmIChsLnRhcmdldC5pZCB8fCBsLnRhcmdldCkgPT09IGNvbm5lY3RvclN0YXJ0Tm9kZS5pZCkKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIGlmICghbGlua0V4aXN0cykgewogICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmxpbmtzLnB1c2goeyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZTogY29ubmVjdG9yU3RhcnROb2RlLmlkLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZC5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogJ3NvbGlkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycm93RGlyZWN0aW9uOiAnbm9uZScgCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yTW9kZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvclN0YXJ0Tm9kZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgZygnYWRkQ29ubmVjdG9yQnRuJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7CiAgICAgICAgICAgICAgICAgICAgZygnZmxvd2NoYXJ0Jykuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbm9kZUNsaWNrKGV2ZW50LCBkKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBjb25zdCBjdXJyZW50U2NhbGVkRGltZW5zaW9uID0gQkFTRV9OT0RFX0RJTUVOU0lPTiAqIGN1cnJlbnROb2RlU2l6ZUZhY3RvcjsKICAgICAgICBub2RlLnNlbGVjdCgnZm9yZWlnbk9iamVjdCcpCiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGN1cnJlbnRTY2FsZWREaW1lbnNpb24pLmF0dHIoJ2hlaWdodCcsIGN1cnJlbnRTY2FsZWREaW1lbnNpb24pCiAgICAgICAgICAgIC5hdHRyKCd4JywgLWN1cnJlbnRTY2FsZWREaW1lbnNpb24gLyAyKS5hdHRyKCd5JywgLWN1cnJlbnRTY2FsZWREaW1lbnNpb24gLyAyKTsKCiAgICAgICAgbm9kZS5zZWxlY3QoJy5mbG93Y2hhcnQtbm9kZS1odG1sJykuZWFjaChmdW5jdGlvbihkKSB7CiAgICAgICAgICAgIGNvbnN0IG5vZGVPdXRlckRpdiA9IGQzLnNlbGVjdCh0aGlzKTsKICAgICAgICAgICAgY29uc3Qgbm9kZUZpbGxPcGFjaXR5ID0gcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1ub2RlLWZpbGwtb3BhY2l0eScpLnRyaW0oKSB8fCAnMC43Jyk7CiAgICAgICAgICAgIGNvbnN0IGJhc2VDb2xvckhleCA9IGQuY29sb3IgPyBkLmNvbG9yIDogZ2V0U3RhdHVzQ29sb3IoZC5zdGF0dXMpOwogICAgICAgICAgICBub2RlT3V0ZXJEaXYuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCBoZXhUb1JnYmEoYmFzZUNvbG9ySGV4LCBub2RlRmlsbE9wYWNpdHkpKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCBwaWxsRGl2ID0gbm9kZU91dGVyRGl2LnNlbGVjdCgnLnRhc2stY291bnQtcGlsbC1odG1sJyk7CiAgICAgICAgICAgIGlmIChwaWxsRGl2LmVtcHR5KCkpIHBpbGxEaXYgPSBub2RlT3V0ZXJEaXYuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICd0YXNrLWNvdW50LXBpbGwtaHRtbCcpOwogICAgICAgICAgICBsZXQgbmFtZURpdiA9IG5vZGVPdXRlckRpdi5zZWxlY3QoJy5ub2RlLW5hbWUtaHRtbCcpOwogICAgICAgICAgICBpZiAobmFtZURpdi5lbXB0eSgpKSBuYW1lRGl2ID0gbm9kZU91dGVyRGl2LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnbm9kZS1uYW1lLWh0bWwnKTsKICAgICAgICAgICAgbGV0IHByRGl2ID0gbm9kZU91dGVyRGl2LnNlbGVjdCgnLnByaW9yaXR5LWluZGljYXRvcicpOwogICAgICAgICAgICBpZiAocHJEaXYuZW1wdHkoKSkgcHJEaXYgPSBub2RlT3V0ZXJEaXYuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdwcmlvcml0eS1pbmRpY2F0b3InKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIG5hbWVEaXYudGV4dChkLm5hbWUgfHwgJycpOwogICAgICAgICAgICBsZXQgaW5kaWNhdG9ySHRtbCA9IGQucHJpb3JpdHkgPT09ICdMb3cnID8gJ/CflLQg4pqq77iPIOKaqu+4jycgOiBkLnByaW9yaXR5ID09PSAnTm9ybWFsJyA/ICfwn5S0IPCflLQg4pqq77iPJyA6IGQucHJpb3JpdHkgPT09ICdIaWdoJyA/ICfwn5S0IPCflLQg8J+UtCcgOiAn4pqq77iPIOKaqu+4jyDimqrvuI8nOwogICAgICAgICAgICBwckRpdi5odG1sKGluZGljYXRvckh0bWwpOwogICAgICAgICAgICBsZXQgdGFza3MgPSBkLmFjdGlvbkRlc2NyaXB0aW9uIHx8IFtdOwogICAgICAgICAgICBjb25zdCBjb21wQyA9IHRhc2tzLmZpbHRlcigodCkgPT4gdC5jb21wbGV0ZWQpLmxlbmd0aCwgdG90QyA9IHRhc2tzLmxlbmd0aDsKICAgICAgICAgICAgaWYgKHRvdEMgPiAwKSB7IHBpbGxEaXYudGV4dChg4pyTICR7Y29tcEN9LyR7dG90Q31gKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpOyB9IAogICAgICAgICAgICBlbHNlIHsgcGlsbERpdi5zdHlsZSgnZGlzcGxheScsICdub25lJyk7IH0KICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBzaW11bGF0aW9uLmFscGhhKDAuMykucmVzdGFydCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEludGVyc2VjdGlvblBvaW50KHNvdXJjZU5vZGUsIHRhcmdldE5vZGUsIHdpZHRoLCBoZWlnaHQpIHsKICAgICAgICBjb25zdCBzeCA9IHNvdXJjZU5vZGUueCwgc3kgPSBzb3VyY2VOb2RlLnk7CiAgICAgICAgY29uc3QgdHggPSB0YXJnZXROb2RlLngsIHR5ID0gdGFyZ2V0Tm9kZS55OwogICAgICAgIAogICAgICAgIGNvbnN0IGR4ID0gdHggLSBzeDsKICAgICAgICBjb25zdCBkeSA9IHR5IC0gc3k7CgogICAgICAgIGlmIChkeCA9PT0gMCAmJiBkeSA9PT0gMCkgewogICAgICAgICAgICByZXR1cm4geyB4OiBzeCwgeTogc3kgfTsKICAgICAgICB9CgogICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMihkeSwgZHgpOwogICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHdpZHRoIC8gMjsKICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gaGVpZ2h0IC8gMjsKCiAgICAgICAgY29uc3QgY29ybmVyQW5nbGUgPSBNYXRoLmF0YW4yKGhhbGZIZWlnaHQsIGhhbGZXaWR0aCk7CgogICAgICAgIGxldCBpeCwgaXk7CiAgICAgICAgaWYgKGFuZ2xlID4gLWNvcm5lckFuZ2xlICYmIGFuZ2xlIDw9IGNvcm5lckFuZ2xlKSB7CiAgICAgICAgICAgIGl4ID0gc3ggKyBoYWxmV2lkdGg7CiAgICAgICAgICAgIGl5ID0gc3kgKyBoYWxmV2lkdGggKiBNYXRoLnRhbihhbmdsZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbmdsZSA+IGNvcm5lckFuZ2xlICYmIGFuZ2xlIDw9IE1hdGguUEkgLSBjb3JuZXJBbmdsZSkgewogICAgICAgICAgICBpeCA9IHN4ICsgaGFsZkhlaWdodCAvIE1hdGgudGFuKGFuZ2xlKTsKICAgICAgICAgICAgaXkgPSBzeSArIGhhbGZIZWlnaHQ7CiAgICAgICAgfSBlbHNlIGlmIChhbmdsZSA+IE1hdGguUEkgLSBjb3JuZXJBbmdsZSB8fCBhbmdsZSA8PSAtKE1hdGguUEkgLSBjb3JuZXJBbmdsZSkpIHsKICAgICAgICAgICAgaXggPSBzeCAtIGhhbGZXaWR0aDsKICAgICAgICAgICAgaXkgPSBzeSAtIGhhbGZXaWR0aCAqIE1hdGgudGFuKGFuZ2xlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpeCA9IHN4IC0gaGFsZkhlaWdodCAvIE1hdGgudGFuKGFuZ2xlKTsKICAgICAgICAgICAgaXkgPSBzeSAtIGhhbGZIZWlnaHQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4geyB4OiBpeCwgeTogaXkgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTdGF0dXNDb2xvcihzKSB7CiAgICAgIHN3aXRjaCAocykgeyBjYXNlICdOb3QgU3RhcnRlZCc6IHJldHVybiAnI2U3NGMzYyc7IGNhc2UgJ0luIFByb2dyZXNzJzogcmV0dXJuICcjZjFjNDBmJzsgY2FzZSAnQ29tcGxldGVkJzogcmV0dXJuICcjMmVjYzcxJzsgZGVmYXVsdDogcmV0dXJuICcjMzQ5OGRiJzsgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBvcGVuQUlBc3Npc3RhbnQoKSB7CiAgICAgICAgY29uc3QgdXJsID0gJ2h0dHBzOi8vY2hhdGdwdC5jb20vZy9nLTY3OGM0NTBiMDI5ODgxOTFiMDdkNDdjN2E1YmQ5ZDRhLWZsb3ctY2hhcnQtYXNzaXN0YW50JzsKICAgICAgICBjb25zdCBzVyA9IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCwgc0ggPSB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0LCBiUyA9IE1hdGgubWluKHNXLCBzSCk7CiAgICAgICAgY29uc3QgcFcgPSBNYXRoLmZsb29yKGJTICogMC40NSksIHBIID0gTWF0aC5mbG9vcihiUyAqIDAuNTUpOwogICAgICAgIGNvbnN0IGwgPSBNYXRoLmZsb29yKChzVyAtIHBXKSAvIDIpLCB0ID0gTWF0aC5mbG9vcigoc0ggLSBwSCkgLyAyKTsKICAgICAgICB3aW5kb3cub3Blbih1cmwsICdGbG93Y2hhcnRBSUFzc2lzdGFudCcsIGB3aWR0aD0ke3BXfSxoZWlnaHQ9JHtwSH0sbGVmdD0ke2x9LHRvcD0ke3R9LHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXNgKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gYWRkVGFza1Jvdyh0KSB7CiAgICAgICAgY29uc3QgdGIgPSBnKCd0YXNrVGFibGUnKS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpOwogICAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTsKICAgICAgICAKICAgICAgICB0ci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Rhc2tUYWJsZSB0Ym9keSB0cicpLmZvckVhY2goKHIpID0+IHIuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWRUYXNrUm93JykpOwogICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkVGFza1JvdycpOwogICAgICAgIH0pOwoKICAgICAgICBjb25zdCB0ZEMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOwogICAgICAgIGNvbnN0IGNiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgICBjYi50eXBlID0gJ2NoZWNrYm94JzsKICAgICAgICBjYi5jaGVja2VkID0gdCAmJiB0LmNvbXBsZXRlZDsKICAgICAgICB0ZEMuYXBwZW5kQ2hpbGQoY2IpOwoKICAgICAgICBjb25zdCB0ZFQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpOyAKICAgICAgICB0ZFQuY2xhc3NMaXN0LmFkZCgndGFzay1jZWxsLWNvbnRlbnQnKTsgCiAgICAgICAgCiAgICAgICAgY29uc3QgdGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpOwogICAgICAgIHRpLmNsYXNzTGlzdC5hZGQoJ3Rhc2stZGV0YWlsLXRleHRhcmVhJyk7CiAgICAgICAgdGkudmFsdWUgPSB0ICYmIHQudGFzayA/IHQudGFzayA6ICcnOwogICAgICAgIHRpLnJvd3MgPSAxOwogICAgICAgIHRpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9ICdhdXRvJzsKICAgICAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSB0aGlzLnNjcm9sbEhlaWdodCArICdweCc7CiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgY29uc3Qgdmlld0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7CiAgICAgICAgdmlld0ljb24uY2xhc3NMaXN0LmFkZCgnZmFzJywgJ2ZhLWV5ZScsICd0YXNrLXZpZXctaWNvbicpOwogICAgICAgIHZpZXdJY29uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnVmlldyBmdWxsIHRhc2sgZGV0YWlscyBhbmQgbGlua3MnKTsgCiAgICAgICAgCiAgICAgICAgdmlld0ljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IAogICAgICAgICAgICB0ci5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZFRhc2tSb3cnKTsgCiAgICAgICAgICAgIHNob3dUYXNrUG9wdXAodGkudmFsdWUpOyAKICAgICAgICB9KTsKCiAgICAgICAgdGRULmFwcGVuZENoaWxkKHRpKTsKICAgICAgICB0ZFQuYXBwZW5kQ2hpbGQodmlld0ljb24pOwoKICAgICAgICB0ci5hcHBlbmRDaGlsZCh0ZEMpOwogICAgICAgIHRyLmFwcGVuZENoaWxkKHRkVCk7IAogICAgICAgIHRiLmFwcGVuZENoaWxkKHRyKTsKICAgICAgICB0aS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnaW5wdXQnKSk7IAogICAgfQoKICAgIGZ1bmN0aW9uIHBvcHVsYXRlVGFza1RhYmxlKHRhc2tBcnJheSkgewogICAgICAgIGNvbnN0IHRiID0gZygndGFza1RhYmxlJykucXVlcnlTZWxlY3RvcigndGJvZHknKTsKICAgICAgICB0Yi5pbm5lckhUTUwgPSAnJzsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXNrQXJyYXkpICYmIHRhc2tBcnJheS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHRhc2tBcnJheS5mb3JFYWNoKCh0KSA9PiBhZGRUYXNrUm93KHQpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRUYXNrUm93KHt9KTsgCiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiBzaG93VGFza1BvcHVwKHR4dCkgewogICAgICAgIGNvbnN0IGxpbmtlZEh0bWwgPSBsaW5raWZ5SHRtbCh0eHQsIHsKICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJywgICAgICAgICAgIAogICAgICAgICAgICByZWw6ICdub29wZW5lciBub3JlZmVycmVyJyAgCiAgICAgICAgfSk7CgogICAgICAgIGNvbnN0IHRhc2tGdWxsVGV4dEVsZW1lbnQgPSBnKCd0YXNrRnVsbFRleHQnKTsKICAgICAgICBjb25zdCB0YXNrVGV4dFBvcHVwTW9kYWwgPSBnKCd0YXNrVGV4dFBvcHVwJyk7CgogICAgICAgIGlmICh0YXNrRnVsbFRleHRFbGVtZW50ICYmIHRhc2tUZXh0UG9wdXBNb2RhbCkgewogICAgICAgICAgICB0YXNrRnVsbFRleHRFbGVtZW50LmlubmVySFRNTCA9IGxpbmtlZEh0bWw7IAogICAgICAgICAgICB0YXNrVGV4dFBvcHVwTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiBDb3VsZCBub3QgZmluZCB0YXNrRnVsbFRleHQgb3IgdGFza1RleHRQb3B1cCBlbGVtZW50cy4gUGxlYXNlIGNoZWNrIHlvdXIgSFRNTCBJRHMuJyk7CiAgICAgICAgfQogICAgfQogICAgCiAgICBmdW5jdGlvbiB1cGRhdGVQcm9qZWN0RGVzY0J1dHRvbigpIHsgY29uc3QgaGFzRGVzYyA9IGRhdGEucHJvamVjdERlc2NyaXB0aW9uICYmIGRhdGEucHJvamVjdERlc2NyaXB0aW9uLnN1bW1hcnkudHJpbSgpLmxlbmd0aCA+IDA7IGcoJ3Byb2plY3REZXNjQnRuJykuc3R5bGUuZGlzcGxheSA9IGhhc0Rlc2MgPyAnaW5saW5lLWZsZXgnIDogJ25vbmUnOyB9CiAgICAKICAgIGZ1bmN0aW9uIG5vZGVDbGljayhldiwgZCkgewogICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIHNlbGVjdGVkTm9kZSA9IGQ7CiAgICAgICAgZygndGFza05hbWUnKS52YWx1ZSA9IGQubmFtZSB8fCAnJzsKICAgICAgICBnKCdyZXNwb25zaWJsZScpLnZhbHVlID0gZC5yZXNwb25zaWJsZSB8fCAnJzsKICAgICAgICBnKCdzdGF0dXMnKS52YWx1ZSA9IGQuc3RhdHVzIHx8ICdOb3QgU3RhcnRlZCc7CiAgICAgICAgZygnZGVhZGxpbmUnKS52YWx1ZSA9IGQuZGVhZGxpbmUgfHwgJyc7CiAgICAgICAgZygncHJpb3JpdHknKS52YWx1ZSA9IGQucHJpb3JpdHkgfHwgJ05vcm1hbCc7CiAgICAgICAgcG9wdWxhdGVUYXNrVGFibGUoZC5hY3Rpb25EZXNjcmlwdGlvbiB8fCBbXSk7CiAgICAgICAgZygnbm9kZUNvbG9yJykudmFsdWUgPSBkLmNvbG9yIHx8ICcnOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xvci1wYW5lbCAuY29sb3Itc3dhdGNoJykuZm9yRWFjaCgocykgPT4gcy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC1zd2F0Y2gnKSk7CiAgICAgICAgaWYgKGQuY29sb3IpIHsKICAgICAgICAgICAgY29uc3Qgc1MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuY29sb3Itc3dhdGNoW2RhdGEtY29sb3I9JyR7ZC5jb2xvcn0nXWApOwogICAgICAgICAgICBpZiAoc1MpIHNTLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkLXN3YXRjaCcpOwogICAgICAgIH0KICAgICAgICBnKCdtb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgfQoKICAgIGZ1bmN0aW9uIHNhdmVUb0ZpbGUoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZGF0YS5mbG93Y2hhcnROYW1lID0gZygnZmxvd2NoYXJ0TmFtZUlucHV0JykudmFsdWUgfHwgJ1VudGl0bGVkIEZsb3djaGFydCc7CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUcmFuc2Zvcm0gPSBtYWluWm9vbUdyb3VwLmF0dHIoJ3RyYW5zZm9ybScpOwogICAgICAgICAgICBkYXRhLnZpZXdib3hUcmFuc2Zvcm0gPSBjdXJyZW50VHJhbnNmb3JtOwoKICAgICAgICAgICAgY29uc3QgZXhwb3J0TGlua3MgPSBkYXRhLmxpbmtzLm1hcChsID0+ICh7CiAgICAgICAgICAgICAgICBzb3VyY2U6IGwuc291cmNlLmlkIHx8IGwuc291cmNlLAogICAgICAgICAgICAgICAgdGFyZ2V0OiBsLnRhcmdldC5pZCB8fCBsLnRhcmdldCwKICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogbC5saW5lU3R5bGUgfHwgJ3NvbGlkJywKICAgICAgICAgICAgICAgIGFycm93RGlyZWN0aW9uOiBsLmFycm93RGlyZWN0aW9uIHx8ICdub25lJwogICAgICAgICAgICB9KSk7CgogICAgICAgICAgICBkYXRhLnByb2plY3REZXNjcmlwdGlvbiA9IGRhdGEucHJvamVjdERlc2NyaXB0aW9uIHx8IHt9OwogICAgICAgICAgICBkYXRhLnByb2plY3REZXNjcmlwdGlvbi5nZW5lcmF0ZWREYXRlID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpOwoKICAgICAgICAgICAgY29uc3QgZXhwRCA9IHsKICAgICAgICAgICAgICAgIGZsb3djaGFydE5hbWU6IGRhdGEuZmxvd2NoYXJ0TmFtZSwKICAgICAgICAgICAgICAgIHByb2plY3REZXNjcmlwdGlvbjogZGF0YS5wcm9qZWN0RGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICBub2RlczogZGF0YS5ub2Rlcy5tYXAobiA9PiAoewogICAgICAgICAgICAgICAgICAgIGlkOiBuLmlkLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IG4ubmFtZSwKICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IG4uc3RhdHVzLAogICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpYmxlOiBuLnJlc3BvbnNpYmxlLAogICAgICAgICAgICAgICAgICAgIGRlYWRsaW5lOiBuLmRlYWRsaW5lLAogICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiBuLnByaW9yaXR5LAogICAgICAgICAgICAgICAgICAgIGFjdGlvbkRlc2NyaXB0aW9uOiBKU09OLnN0cmluZ2lmeShuLmFjdGlvbkRlc2NyaXB0aW9uIHx8IFtdKSwgLy8gU3RyaW5naWZ5IG9ubHkgb24gZXhwb3J0CiAgICAgICAgICAgICAgICAgICAgY29sb3I6IG4uY29sb3IsCiAgICAgICAgICAgICAgICAgICAgeDogbi54LAogICAgICAgICAgICAgICAgICAgIHk6IG4ueSwKICAgICAgICAgICAgICAgICAgICBmeDogbi5meCwKICAgICAgICAgICAgICAgICAgICBmeTogbi5meQogICAgICAgICAgICAgICAgfSkpLAogICAgICAgICAgICAgICAgbGlua3M6IGV4cG9ydExpbmtzLAogICAgICAgICAgICAgICAgY29sb3JMZWdlbmQ6IGRhdGEuY29sb3JMZWdlbmQsCiAgICAgICAgICAgICAgICBsaW5lTGVnZW5kOiBkYXRhLmxpbmVMZWdlbmQsCiAgICAgICAgICAgICAgICB2aWV3Ym94VHJhbnNmb3JtOiBkYXRhLnZpZXdib3hUcmFuc2Zvcm0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGRhdGFTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBELCBudWxsLCAyKTsKICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtkYXRhU3RyaW5nXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7CiAgICAgICAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgICAgIAogICAgICAgICAgICBjb25zdCBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgICAgICAgIGFuY2hvci5ocmVmID0gdXJsOwogICAgICAgICAgICBhbmNob3IuZG93bmxvYWQgPSAoZXhwRC5mbG93Y2hhcnROYW1lLnJlcGxhY2UoL1teYS16MC05XS9naSwgJ18nKS50b0xvd2VyQ2FzZSgpIHx8ICdmbG93Y2hhcnQnKSArICcuanNvbic7CiAgICAgICAgICAgIAogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFuY2hvcik7CiAgICAgICAgICAgIGFuY2hvci5jbGljaygpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGFuY2hvcik7CiAgICAgICAgICAgIAogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsKICAgICAgICAgICAgfSwgMTAwKTsKCiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTYXZlIGZpbGUgZXJyb3I6JywgZSk7CiAgICAgICAgICAgIGFsZXJ0KCdFcnJvciBzYXZpbmcgZmlsZS4nKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gbG9hZEZyb21GaWxlKGYpIHsKICAgICAgICBpZiAoIWYpIHsgYWxlcnQoJ05vIGZpbGUgc2VsZWN0ZWQuJyk7IHJldHVybjsgfQogICAgICAgIGNvbnN0IHIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgIHIub25sb2FkID0gKGUpID0+IHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IGZEID0gSlNPTi5wYXJzZShlLnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgICAgICAgLy8gLS0tIFNlY3VyaXR5IENoZWNrIEFjdGl2YXRlZCBvbiBGaWxlIExvYWQgLS0tCmNvbnN0IGlzVGVzdE1vZGUgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpLmdldCgndGVzdG1vZGUnKSA9PT0gJ3RydWUnOwoKLy8gT25seSBydW4gdGhlIHNlY3VyaXR5IGNoZWNrIGlmIHdlIGFyZSBOT1QgaW4gdGVzdCBtb2RlLgppZiAoIWlzVGVzdE1vZGUpIHsKICAgIGNvbnN0IGFsbG93ZWREb21haW4gPSAnc29jaWFsZWFwLm5ldCc7CiAgICBsZXQgY3VycmVudEhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwoKICAgIGlmIChjdXJyZW50SG9zdG5hbWUuc3RhcnRzV2l0aCgnd3d3LicpKSB7CiAgICAgICAgY3VycmVudEhvc3RuYW1lID0gY3VycmVudEhvc3RuYW1lLnN1YnN0cmluZyg0KTsKICAgIH0KCiAgICBpZiAoY3VycmVudEhvc3RuYW1lICE9PSBhbGxvd2VkRG9tYWluKSB7CiAgICAgICAgYWxlcnQoJ1Byb2plY3QgZmlsZXMgY2FuIG9ubHkgYmUgbG9hZGVkIG9uIHRoZSBhdXRob3JpemVkIHNpdGUgZm9yICcgKyBhbGxvd2VkRG9tYWluICsgJy4gVG8gdGVzdCBvbiBvdGhlciBkb21haW5zLCBhZGQgP3Rlc3Rtb2RlPXRydWUgdG8gdGhlIFVSTC4nKTsKICAgICAgICByZXR1cm47IC8vIFRoaXMgc3RvcHMgdGhlIGZpbGUgZnJvbSBsb2FkaW5nLgogICAgfQp9Ci8vIC0tLSBFbmQgb2YgU2VjdXJpdHkgQ2hlY2sgLS0tCiAgICAgICAgICAgICAgICBpZiAoZkQgJiYgdHlwZW9mIGZEID09PSAnb2JqZWN0JyAmJiBBcnJheS5pc0FycmF5KGZELm5vZGVzKSkgewogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGZELm5vZGVzLmZvckVhY2gobm9kZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS5hY3Rpb25EZXNjcmlwdGlvbiA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShub2RlLmFjdGlvbkRlc2NyaXB0aW9uKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFjdGlvbkRlc2NyaXB0aW9uID0gQXJyYXkuaXNBcnJheShwYXJzZWQpID8gcGFyc2VkIDogW107CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChwYXJzZUVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hY3Rpb25EZXNjcmlwdGlvbiA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KG5vZGUuYWN0aW9uRGVzY3JpcHRpb24pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hY3Rpb25EZXNjcmlwdGlvbiA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIGRhdGEgPSBmRDsKICAgICAgICAgICAgICAgICAgICBnKCdmbG93Y2hhcnROYW1lSW5wdXQnKS52YWx1ZSA9IGRhdGEuZmxvd2NoYXJ0TmFtZSB8fCAnVW50aXRsZWQnOwogICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2plY3REZXNjQnV0dG9uKCk7CiAgICAgICAgICAgICAgICAgICAgZygnZmlsZU5hbWVEaXNwbGF5JykuaW5uZXJUZXh0ID0gYExvYWRlZDogJHtmLm5hbWV9YDsKICAgICAgICAgICAgICAgICAgICBpc0luaXRpYWxMYXlvdXQgPSB0cnVlOyAKICAgICAgICAgICAgICAgICAgICBkYXRhLm5vZGVzLmZvckVhY2goZCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICBkLmZ4ID0gZC54OwogICAgICAgICAgICAgICAgICAgICAgZC5meSA9IGQueTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBkYXRhLmxpbmtzLmZvckVhY2gobCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGwubGluZVN0eWxlID0gbC5saW5lU3R5bGUgfHwgJ3NvbGlkJzsKICAgICAgICAgICAgICAgICAgICAgICAgbC5hcnJvd0RpcmVjdGlvbiA9IGwuYXJyb3dEaXJlY3Rpb24gfHwgJ25vbmUnOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGRhdGEubGluZUxlZ2VuZCA9IGRhdGEubGluZUxlZ2VuZCB8fCB7ICJzb2xpZCI6ICJTdGFuZGFyZCBDb25uZWN0aW9uIiwgImRvdHRlZCI6ICJPcHRpb25hbCAvIFJlbGF0ZWQgQ29ubmVjdGlvbiIgfTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEudmlld2JveFRyYW5zZm9ybSAmJiBtYWluWm9vbUdyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1haW5ab29tR3JvdXAuYXR0cigndHJhbnNmb3JtJywgZGF0YS52aWV3Ym94VHJhbnNmb3JtKTsKICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLmNhbGwoZDMuem9vbSgpLnRyYW5zZm9ybSwgZDMuem9vbUlkZW50aXR5LmZyb21TdHJpbmcoZGF0YS52aWV3Ym94VHJhbnNmb3JtKSk7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ0ludmFsaWQgZmlsZSBmb3JtYXQuJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgYWxlcnQoJ0Vycm9yIHBhcnNpbmcgZmlsZS4nKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvYWQgZmlsZSBlcnJvcjonLCBlcnIpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICByLm9uZXJyb3IgPSAoKSA9PiBhbGVydCgnRXJyb3IgcmVhZGluZyBmaWxlLicpOwogICAgICAgIHIucmVhZEFzVGV4dChmKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gbG9hZFRlbXBsYXRlKHRtcGwpIHsgCiAgICAgICAgZGF0YS5mbG93Y2hhcnROYW1lID0gdG1wbC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHRtcGwuc2xpY2UoMSkgKyAnIFRlbXBsYXRlJzsgCiAgICAgICAgZygnZmxvd2NoYXJ0TmFtZUlucHV0JykudmFsdWUgPSBkYXRhLmZsb3djaGFydE5hbWU7IAogICAgICAgIGRhdGEubGlua3MgPSBbXTsgCiAgICAgICAgZGF0YS5wcm9qZWN0RGVzY3JpcHRpb24gPSB7IHN1bW1hcnk6ICcnLCBnZW5lcmF0ZWREYXRlOiAnJyB9OyAKICAgICAgICBkYXRhLmNvbG9yTGVnZW5kID0ge307IAogICAgICAgIGRhdGEubGluZUxlZ2VuZCA9IHsgInNvbGlkIjogIlN0YW5kYXJkIENvbm5lY3Rpb24iLCAiZG90dGVkIjogIk9wdGlvbmFsIC8gUmVsYXRlZCBDb25uZWN0aW9uIiB9OyAKICAgICAgICB1cGRhdGVQcm9qZWN0RGVzY0J1dHRvbigpOyAKICAgICAgICAKICAgICAgICBjb25zdCB2QiA9IHN2Zy5hdHRyKCd2aWV3Qm94Jykuc3BsaXQoJyAnKTsKICAgICAgICBjb25zdCB2VyA9IHBhcnNlRmxvYXQodkJbMl0pOwogICAgICAgIGNvbnN0IHZIID0gcGFyc2VGbG9hdCh2QlszXSk7CiAgICAgICAgCiAgICAgICAgY29uc3QgY2VudGVyWCA9IHZXIC8gMjsKICAgICAgICBjb25zdCBjZW50ZXJZID0gdkggKiAwLjQ7CiAgICAgICAgY29uc3Qgbm9kZVNwYWNpbmcgPSBCQVNFX05PREVfRElNRU5TSU9OICogMS40OyAKICAgICAgICAKICAgICAgICBzd2l0Y2ggKHRtcGwpIHsgCiAgICAgICAgICAgIGNhc2UgJ3Byb3RvdHlwZSc6IAogICAgICAgICAgICAgICAgZGF0YS5ub2RlcyA9IFsKICAgICAgICAgICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgICAgICAgICBpZDogJzEnLCAKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Rlc2lnbiBTeXN0ZW0gU2V0dXAnLCAKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnQ29tcGxldGVkJywgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzJlY2M3MScsCiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGNlbnRlclggLSBub2RlU3BhY2luZywKICAgICAgICAgICAgICAgICAgICAgICAgeTogY2VudGVyWQogICAgICAgICAgICAgICAgICAgIH0sIAogICAgICAgICAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnMicsIAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnVXNlciBBdXRoIERldmVsb3BtZW50JywgCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ0luIFByb2dyZXNzJywgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2YxYzQwZicsCiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGNlbnRlclgsCiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNlbnRlclkKICAgICAgICAgICAgICAgICAgICB9LCAKICAgICAgICAgICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgICAgICAgICBpZDogJzMnLCAKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1JlYWwtdGltZSBDb2xsYWIgVGVzdGluZycsIAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdOb3QgU3RhcnRlZCcsIAogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNlNzRjM2MnLAogICAgICAgICAgICAgICAgICAgICAgICB4OiBjZW50ZXJYICsgbm9kZVNwYWNpbmcsCiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNlbnRlclkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBdOyAKICAgICAgICAgICAgICAgIGJyZWFrOyAKICAgICAgICAgICAgY2FzZSAndmVuZG9yJzogCiAgICAgICAgICAgICAgICBkYXRhLm5vZGVzID0gWwogICAgICAgICAgICAgICAgICAgIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnMScsIAogICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnSWRlbnRpZnkgVmVuZG9ycycsIAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdDb21wbGV0ZWQnLCAKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMmVjYzcxJywKICAgICAgICAgICAgICAgICAgICAgICAgeDogY2VudGVyWCAtIG5vZGVTcGFjaW5nLAogICAgICAgICAgICAgICAgICAgICAgICB5OiBjZW50ZXJZCiAgICAgICAgICAgICAgICAgICAgfSwgCiAgICAgICAgICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICcyJywgCiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDb25kdWN0IE91dHJlYWNoJywgCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ0luIFByb2dyZXNzJywgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2YxYzQwZicsCiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGNlbnRlclgsCiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNlbnRlclkKICAgICAgICAgICAgICAgICAgICB9LCAKICAgICAgICAgICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgICAgICAgICBpZDogJzMnLCAKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NlbGVjdCBGaW5hbCBWZW5kb3InLCAKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnTm90IFN0YXJ0ZWQnLCAKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZTc0YzNjJywKICAgICAgICAgICAgICAgICAgICAgICAgeDogY2VudGVyWCArIG5vZGVTcGFjaW5nLAogICAgICAgICAgICAgICAgICAgICAgICB5OiBjZW50ZXJZCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgXTsgCiAgICAgICAgICAgICAgICBicmVhazsgCiAgICAgICAgICAgIGNhc2UgJ21hcmtldGluZyc6IAogICAgICAgICAgICAgICAgZGF0YS5ub2RlcyA9IFsKICAgICAgICAgICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgICAgICAgICBpZDogJzEnLCAKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ01hcmtldCBSZXNlYXJjaCcsIAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdDb21wbGV0ZWQnLCAKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMmVjYzcxJywKICAgICAgICAgICAgICAgICAgICAgICAgeDogY2VudGVyWCwKICAgICAgICAgICAgICAgICAgICAgICAgeTogY2VudGVyWSAtIG5vZGVTcGFjaW5nIC8gMiAKICAgICAgICAgICAgICAgICAgICB9LCAKICAgICAgICAgICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgICAgICAgICBpZDogJzInLCAKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0RldmVsb3AgU3RyYXRlZ3knLCAKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnSW4gUHJvZ3Jlc3MnLCAKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZjFjNDBmJywKICAgICAgICAgICAgICAgICAgICAgICAgeDogY2VudGVyWCAtIG5vZGVTcGFjaW5nIC8gMiwgCiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGNlbnRlclkgKyBub2RlU3BhY2luZyAvIDIKICAgICAgICAgICAgICAgICAgICB9LCAKICAgICAgICAgICAgICAgICAgICB7IAogICAgICAgICAgICAgICAgICAgICAgICBpZDogJzMnLCAKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0xhdW5jaCBDYW1wYWlnbicsIAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6ICdOb3QgU3RhcnRlZCcsIAogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNlNzRjM2MnLAogICAgICAgICAgICAgICAgICAgICAgICB4OiBjZW50ZXJYICsgbm9kZVNwYWNpbmcgLyAyLCAKICAgICAgICAgICAgICAgICAgICAgICAgeTogY2VudGVyWSArIG5vZGVTcGFjaW5nIC8gMgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF07IAogICAgICAgICAgICAgICAgYnJlYWs7IAogICAgICAgICAgICBkZWZhdWx0OiAKICAgICAgICAgICAgICAgIGRhdGEubm9kZXMgPSBbCiAgICAgICAgICAgICAgICAgICAgeyAKICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdyb290LTEnLCAKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1N0YXJ0IE5ldyBQcm9qZWN0JywgCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ05vdCBTdGFydGVkJywgCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzM0OThkYicsIAogICAgICAgICAgICAgICAgICAgICAgICB4OiBjZW50ZXJYLCAKICAgICAgICAgICAgICAgICAgICAgICAgeTogY2VudGVyWQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF07IAogICAgICAgICAgICAgICAgZGF0YS5mbG93Y2hhcnROYW1lID0gJ05ldyBGbG93Y2hhcnQnOyAKICAgICAgICAgICAgICAgIGcoJ2Zsb3djaGFydE5hbWVJbnB1dCcpLnZhbHVlID0gZGF0YS5mbG93Y2hhcnROYW1lOyAKICAgICAgICB9IAogICAgICAgIAogICAgICAgIGRhdGEubm9kZXMuZm9yRWFjaChuID0+IHsgCiAgICAgICAgICAgIG4uYWN0aW9uRGVzY3JpcHRpb24gPSBbXTsKICAgICAgICAgICAgbi5yZXNwb25zaWJsZSA9IG4ucmVzcG9uc2libGUgfHwgJyc7CiAgICAgICAgICAgIG4uZGVhZGxpbmUgPSBuLmRlYWRsaW5lIHx8ICcnOwogICAgICAgICAgICBuLnByaW9yaXR5ID0gbi5wcmlvcml0eSB8fCAnTm9ybWFsJzsKICAgICAgICAgICAgbi5meCA9IG4ueDsgCiAgICAgICAgICAgIG4uZnkgPSBuLnk7IAogICAgICAgIH0pOyAKICAgICAgICAKICAgICAgICBpc0luaXRpYWxMYXlvdXQgPSB0cnVlOyAKICAgICAgICB1cGRhdGUoKTsgCiAgICB9CgogICAgZnVuY3Rpb24gbGlua0NsaWNrSGFuZGxlcihldmVudCwgZCkgeyAKICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgCiAgICAgICAgc2VsZWN0ZWRMaW5rID0gZDsgCiAgICAgICAgbGlua0dyb3VwLnNlbGVjdEFsbCgnZy5saW5rLWNvbnRhaW5lcicpLmNsYXNzZWQoJ3NlbGVjdGVkJywgZmFsc2UpOyAKICAgICAgICBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5jbGFzc2VkKCdzZWxlY3RlZCcsIHRydWUpOyAKCiAgICAgICAgb3BlbkNvbm5lY3Rvck9wdGlvbnNNb2RhbChkKTsgCiAgICB9CgogICAgZnVuY3Rpb24gb3BlbkNvbm5lY3Rvck9wdGlvbnNNb2RhbChsaW5rRGF0YSkgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNjb25uZWN0b3JPcHRpb25zTW9kYWwgLmxpbmUtc3R5bGUtYnRuJykuZm9yRWFjaChidG4gPT4gewogICAgICAgICAgICBpZiAoYnRuLmRhdGFzZXQuc3R5bGUgPT09IChsaW5rRGF0YS5saW5lU3R5bGUgfHwgJ3NvbGlkJykpIHsgCiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIHVwZGF0ZUNvbm5lY3Rvck1vZGFsQXJyb3dCdXR0b25zKCk7CiAgICAgICAgCiAgICAgICAgZygnY29ubmVjdG9yT3B0aW9uc01vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlQnV0dG9uU2VsZWN0aW9uKGNsaWNrZWRCdXR0b24sIHNlbGVjdG9yKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChidG4gPT4gewogICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTsKICAgICAgICB9KTsKICAgICAgICBjbGlja2VkQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlQ29ubmVjdG9yTW9kYWxBcnJvd0J1dHRvbnMoKSB7CiAgICAgICAgY29uc3QgYWRkUmVtb3ZlQXJyb3dCdG4gPSBnKCdhZGRSZW1vdmVBcnJvd0J0bicpOwogICAgICAgIGNvbnN0IGFkZFJlbW92ZUFycm93SWNvbiA9IGcoJ2FkZFJlbW92ZUFycm93SWNvbicpOwogICAgICAgIGNvbnN0IGFkZFJlbW92ZUFycm93VGV4dCA9IGcoJ2FkZFJlbW92ZUFycm93VGV4dCcpOwogICAgICAgIGNvbnN0IHN3aXRjaEFycm93RGlyZWN0aW9uQnRuID0gZygnc3dpdGNoQXJyb3dEaXJlY3Rpb25CdG4nKTsKCiAgICAgICAgaWYgKHNlbGVjdGVkTGluay5hcnJvd0RpcmVjdGlvbiA9PT0gJ25vbmUnKSB7CiAgICAgICAgICAgIGFkZFJlbW92ZUFycm93QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7CiAgICAgICAgICAgIGFkZFJlbW92ZUFycm93SWNvbi5jbGFzc05hbWUgPSAnZmFzIGZhLXBsdXMtY2lyY2xlJzsKICAgICAgICAgICAgYWRkUmVtb3ZlQXJyb3dUZXh0LnRleHRDb250ZW50ID0gJ0FkZCBBcnJvdyc7CiAgICAgICAgICAgIHN3aXRjaEFycm93RGlyZWN0aW9uQnRuLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWRkUmVtb3ZlQXJyb3dCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsKICAgICAgICAgICAgYWRkUmVtb3ZlQXJyb3dJY29uLmNsYXNzTmFtZSA9ICdmYXMgZmEtbWludXMtY2lyY2xlJzsKICAgICAgICAgICAgYWRkUmVtb3ZlQXJyb3dUZXh0LnRleHRDb250ZW50ID0gJ1JlbW92ZSBBcnJvdyc7CiAgICAgICAgICAgIHN3aXRjaEFycm93RGlyZWN0aW9uQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIG9wZW5Db2xvckxlZ2VuZE1vZGFsKCkgeyAKICAgICAgY29uc3QgY29udGFpbmVyID0gZygnY29sb3ItbGVnZW5kLWVudHJpZXMnKTsgCiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsgCiAgICAgIGNvbnN0IHVuaXF1ZUNvbG9ycyA9IFsuLi5uZXcgU2V0KGRhdGEubm9kZXMubWFwKG4gPT4gbi5jb2xvcikuZmlsdGVyKGMgPT4gYykpXTsgCiAgICAgIGNvbnN0IG9wYWNpdHkgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLW5vZGUtZmlsbC1vcGFjaXR5JykudHJpbSgpIHx8ICcwLjU1Jyk7IAogICAgICAKICAgICAgdW5pcXVlQ29sb3JzLmZvckVhY2goY29sb3IgPT4geyAKICAgICAgICBjb25zdCBlbnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyAKICAgICAgICBlbnRyeS5jbGFzc05hbWUgPSAnbGVnZW5kLWVudHJ5JzsgCiAgICAgICAgY29uc3Qgc3dhdGNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IAogICAgICAgIHN3YXRjaC5jbGFzc05hbWUgPSAnbGVnZW5kLWNvbG9yLXN3YXRjaCc7IAogICAgICAgIHN3YXRjaC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBoZXhUb1JnYmEoY29sb3IsIG9wYWNpdHkpOyAKICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7IAogICAgICAgIGlucHV0LnR5cGUgPSAndGV4dCc7IAogICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gYERlc2NyaXB0aW9uIGZvciAke2NvbG9yfWA7IAogICAgICAgIGlucHV0LmRhdGFzZXQuY29sb3IgPSBjb2xvcjsgCiAgICAgICAgaW5wdXQudmFsdWUgPSBkYXRhLmNvbG9yTGVnZW5kW2NvbG9yXSB8fCAnJzsgCiAgICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoc3dhdGNoKTsgCiAgICAgICAgZW50cnkuYXBwZW5kQ2hpbGQoaW5wdXQpOyAKICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZW50cnkpOyAKICAgICAgfSk7IAoKICAgICAgZGF0YS5saW5lTGVnZW5kID0gZGF0YS5saW5lTGVnZW5kIHx8IHt9OyAKICAgICAgCiAgICAgIGNvbnN0IGxpbmVMZWdlbmRTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGxpbmVMZWdlbmRTZWN0aW9uLmlubmVySFRNTCA9IGA8aDM+Q29ubmVjdG9yIExpbmUgVHlwZXM8L2gzPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImxlZ2VuZC1lbnRyeSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsZWdlbmQtZGlzcGxheS1saW5lIj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic29saWRMaW5lRGVzYyIgcGxhY2Vob2xkZXI9IkRlc2NyaXB0aW9uIGZvciBTb2xpZCBMaW5lcyIgdmFsdWU9IiR7ZGF0YS5saW5lTGVnZW5kLnNvbGlkIHx8ICdTdGFuZGFyZCBDb25uZWN0aW9uJ30iLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJsZWdlbmQtZW50cnkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGVnZW5kLWRpc3BsYXktbGluZSBkb3R0ZWQiPjwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJkb3R0ZWRMaW5lRGVzYyIgcGxhY2Vob2xkZXI9IkRlc2NyaXB0aW9uIGZvciBEb3R0ZWQgTGluZXMiIHZhbHVlPSIke2RhdGEubGluZUxlZ2VuZC5kb3R0ZWQgfHwgJ09wdGlvbmFsIC8gUmVsYXRlZCBDb25uZWN0aW9uJ30iLz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gOwogICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobGluZUxlZ2VuZFNlY3Rpb24pOwoKICAgICAgZygnY29sb3JMZWdlbmRNb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAKICAgIH0KCiAgICBmdW5jdGlvbiBzYXZlQ29sb3JMZWdlbmQoZXZlbnQpIHsgCiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IAogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY29sb3ItbGVnZW5kLWVudHJpZXMgaW5wdXQnKS5mb3JFYWNoKGlucHV0ID0+IHsgCiAgICAgICAgY29uc3QgY29sb3IgPSBpbnB1dC5kYXRhc2V0LmNvbG9yLCBkZXNjID0gaW5wdXQudmFsdWUudHJpbSgpOyAKICAgICAgICBpZiAoZGVzYykgZGF0YS5jb2xvckxlZ2VuZFtjb2xvcl0gPSBkZXNjOyAKICAgICAgICBlbHNlIGRlbGV0ZSBkYXRhLmNvbG9yTGVnZW5kW2NvbG9yXTsgCiAgICAgIH0pOyAKCiAgICAgIGRhdGEubGluZUxlZ2VuZCA9IGRhdGEubGluZUxlZ2VuZCB8fCB7fTsgCiAgICAgIGNvbnN0IHNvbGlkRGVzYyA9IGcoJ3NvbGlkTGluZURlc2MnKS52YWx1ZS50cmltKCk7CiAgICAgIGNvbnN0IGRvdHRlZERlc2MgPSBnKCdkb3R0ZWRMaW5lRGVzYycpLnZhbHVlLnRyaW0oKTsKICAgICAgaWYgKHNvbGlkRGVzYykgZGF0YS5saW5lTGVnZW5kLnNvbGlkID0gc29saWREZXNjOyBlbHNlIGRlbGV0ZSBkYXRhLmxpbmVMZWdlbmQuc29saWQ7CiAgICAgIGlmIChkb3R0ZWREZXNjKSBkYXRhLmxpbmVMZWdlbmQuZG90dGVkID0gZG90dGVkRGVzYzsgZWxzZSBkZWxldGUgZGF0YS5saW5lTGVnZW5kLmRvdHRlZDsKCiAgICAgIGcoJ2NvbG9yTGVnZW5kTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAKICAgICAgdXBkYXRlTGVnZW5kRGlzcGxheSgpOyAKICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGVMZWdlbmREaXNwbGF5KCkgeyAKICAgICAgY29uc3QgY29udGFpbmVyID0gZygnY29sb3ItbGVnZW5kLWRpc3BsYXknKTsgCiAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJzsgCiAgICAgIGNvbnN0IGNvbG9ySXRlbXMgPSBPYmplY3QuZW50cmllcyhkYXRhLmNvbG9yTGVnZW5kKTsgCiAgICAgIGNvbnN0IG9wYWNpdHkgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLW5vZGUtZmlsbC1vcGFjaXR5JykudHJpbSgpIHx8ICcwLjU1Jyk7IAogICAgICAKICAgICAgbGV0IGhhc0NvbnRlbnQgPSBmYWxzZTsKCiAgICAgIGlmIChjb2xvckl0ZW1zLmxlbmd0aCA+IDApIHsgCiAgICAgICAgY29sb3JJdGVtcy5mb3JFYWNoKChbY29sb3IsIGRlc2NyaXB0aW9uXSkgPT4geyAKICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgCiAgICAgICAgICBpdGVtLmNsYXNzTmFtZSA9ICdsZWdlbmQtZGlzcGxheS1pdGVtJzsgCiAgICAgICAgICBjb25zdCBzd2F0Y2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgCiAgICAgICAgICBzd2F0Y2guY2xhc3NOYW1lID0gJ2xlZ2VuZC1kaXNwbGF5LWNvbG9yJzsgCiAgICAgICAgICBzd2F0Y2guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaGV4VG9SZ2JhKGNvbG9yLCBvcGFjaXR5KTsgCiAgICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOyAKICAgICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjsgCiAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKHN3YXRjaCk7IAogICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZCh0ZXh0KTsgCiAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7IAogICAgICAgIH0pOyAKICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTsKICAgICAgfSAKCiAgICAgIGlmIChkYXRhLmxpbmVMZWdlbmQpIHsKICAgICAgICAgIGNvbnN0IHNvbGlkRGVzYyA9IGRhdGEubGluZUxlZ2VuZC5zb2xpZDsKICAgICAgICAgIGNvbnN0IGRvdHRlZERlc2MgPSBkYXRhLmxpbmVMZWdlbmQuZG90dGVkOwoKICAgICAgICAgIGlmIChzb2xpZERlc2MpIHsKICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgaXRlbS5jbGFzc05hbWUgPSAnbGVnZW5kLWRpc3BsYXktaXRlbSc7CiAgICAgICAgICAgICAgY29uc3QgbGluZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsKICAgICAgICAgICAgICBsaW5lRGl2LmNsYXNzTmFtZSA9ICdsZWdlbmQtZGlzcGxheS1saW5lJzsKICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgICAgICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBzb2xpZERlc2M7CiAgICAgICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChsaW5lRGl2KTsKICAgICAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKHRleHQpOwogICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtKTsKICAgICAgICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChkb3R0ZWREZXNjKSB7CiAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lID0gJ2xlZ2VuZC1kaXNwbGF5LWl0ZW0nOwogICAgICAgICAgICAgIGNvbnN0IGxpbmVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgICAgICAgbGluZURpdi5jbGFzc05hbWUgPSAnbGVnZW5kLWRpc3BsYXktbGluZSBkb3R0ZWQnOwogICAgICAgICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7CiAgICAgICAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGRvdHRlZERlc2M7CiAgICAgICAgICAgICAgaXRlbS5hcHBlbmRDaGlsZChsaW5lRGl2KTsKICAgICAgICAgICAgICBpdGVtLmFwcGVuZENoaWxkKHRleHQpOwogICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpdGVtKTsKICAgICAgICAgICAgICBoYXNDb250ZW50ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGhhc0NvbnRlbnQpIHsKICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7IAogICAgICB9IGVsc2UgeyAKICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7IAogICAgICB9IAogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZU5vZGUoKSB7IAogICAgICAgIGNvbnN0IG5JZCA9IGBub2RlLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSl9YDsKICAgICAgICBjb25zdCBjU0QgPSBCQVNFX05PREVfRElNRU5TSU9OICogY3VycmVudE5vZGVTaXplRmFjdG9yOwogICAgICAgIGxldCBpWCwgaVk7CgogICAgICAgIGNvbnN0IHNhZmVBcmVhID0gZ2V0U2FmZVBvc2l0aW9uaW5nQXJlYSgpOwogICAgICAgIGlYID0gc2FmZUFyZWEuY2VudGVyWCArIChNYXRoLnJhbmRvbSgpICogMjAwIC0gMTAwKTsgCiAgICAgICAgaVkgPSBzYWZlQXJlYS5jZW50ZXJZICsgKE1hdGgucmFuZG9tKCkgKiAxMDAgLSA1MCk7ICAKICAgICAgICAKICAgICAgICBpWCA9IE1hdGgubWF4KHNhZmVBcmVhLmxlZnQgKyBjU0QgLyAyLCBNYXRoLm1pbihpWCwgc2FmZUFyZWEucmlnaHQgLSBjU0QgLyAyKSk7CiAgICAgICAgaVkgPSBNYXRoLm1heChzYWZlQXJlYS50b3AgKyBjU0QgLyAyLCBNYXRoLm1pbihpWSwgc2FmZUFyZWEuYm90dG9tIC0gY1NEIC8gMikpOwoKICAgICAgICBjb25zdCBuTiA9IHsgCiAgICAgICAgICAgIGlkOiBuSWQsIAogICAgICAgICAgICBuYW1lOiAnTmV3IFRhc2sgTm9kZScsIAogICAgICAgICAgICBzdGF0dXM6ICdOb3QgU3RhcnRlZCcsIAogICAgICAgICAgICByZXNwb25zaWJsZTogJycsIAogICAgICAgICAgICBkZWFkbGluZTogJycsIAogICAgICAgICAgICBwcmlvcml0eTogJ05vcm1hbCcsIAogICAgICAgICAgICBhY3Rpb25EZXNjcmlwdGlvbjogW10sIAogICAgICAgICAgICBjb2xvcjogbnVsbCwgCiAgICAgICAgICAgIHg6IGlYLCAKICAgICAgICAgICAgeTogaVksIAogICAgICAgICAgICBmeDogaVgsIAogICAgICAgICAgICBmeTogaVkgCiAgICAgICAgfTsKICAgICAgICAKICAgICAgICBkYXRhLm5vZGVzLnB1c2gobk4pOyAKICAgICAgICBpc0luaXRpYWxMYXlvdXQgPSBmYWxzZTsgCiAgICAgICAgdXBkYXRlKCk7IAogICAgfQogICAgZnVuY3Rpb24gdXBkYXRlTm9kZVNpemVzKCkgeyBpZiAoIXNpbXVsYXRpb24pIHJldHVybjsgY29uc3Qgc0QgPSBCQVNFX05PREVfRElNRU5TSU9OICogY3VycmVudE5vZGVTaXplRmFjdG9yOyBzaW11bGF0aW9uLmZvcmNlKCdjb2xsaWRlJykucmFkaXVzKChzRCAqIDAuNTUpICsgMjUpOyBzaW11bGF0aW9uLmZvcmNlKCdjaGFyZ2UnKS5zdHJlbmd0aCgtMTgwMCAqIChzRCAvIDE2MCkpOyBpc0luaXRpYWxMYXlvdXQgPSBmYWxzZTsgdXBkYXRlKCk7IH0KICAgIAogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHsKICAgICAgICBjb25zdCBmY0NvbnQgPSBnKCdmbG93Y2hhcnRDb250YWluZXInKTsKICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihlbnRyaWVzID0+IHsKICAgICAgICAgICAgY29uc3QgZW50cnkgPSBlbnRyaWVzWzBdOwogICAgICAgICAgICBpZiAoZW50cnkuY29udGVudFJlY3Qud2lkdGggPiAwKSB7CiAgICAgICAgICAgICAgICBpbml0aWFsaXplQXBwKCk7CiAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGZjQ29udCk7CiAgICB9KTsKCiAgICBmdW5jdGlvbiBpbml0aWFsaXplQXBwKCkgewogICAgICAgIGluaXREMygpOwogICAgICAgIAogICAgICAgIGcoJ2Zsb3djaGFydE5hbWVJbnB1dCcpLnZhbHVlID0gZGF0YS5mbG93Y2hhcnROYW1lIHx8ICdVbnRpdGxlZCBGbG93Y2hhcnQnOwogICAgICAgIHVwZGF0ZVByb2plY3REZXNjQnV0dG9uKCk7CgogICAgICAgIGNvbnN0IHRvb2x0aXAgPSBnKCd0b29sdGlwJyk7CiAgICAgICAgaWYgKHRvb2x0aXApIHsgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbmF2IGJ1dHRvbltkYXRhLXRvb2x0aXAtdGV4dF0nKS5mb3JFYWNoKGJ1dHRvbiA9PiB7IAogICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsICgpID0+IHsgCiAgICAgICAgICAgICAgICB0b29sdGlwLnRleHRDb250ZW50ID0gYnV0dG9uLmRhdGFzZXQudG9vbHRpcFRleHQ7IAogICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IGJ1dHRvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgCiAgICAgICAgICAgICAgICB0b29sdGlwLnN0eWxlLnRvcCA9IGAke3JlY3QuYm90dG9tICsgOH1weGA7IAogICAgICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7cmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDJ9cHhgOyAKICAgICAgICAgICAgICAgIHRvb2x0aXAuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpOyAKICAgICAgICAgICAgfSk7IAogICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHRvb2x0aXAuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpKTsgCiAgICAgICAgfSk7IH0KICAgICAgICAKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sb3ItcGFuZWwgLmNvbG9yLXN3YXRjaCcpLmZvckVhY2goc3dhdGNoID0+IHsgCiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gc3dhdGNoLmRhdGFzZXQuY29sb3I7CiAgICAgICAgICAgIGNvbnN0IG9wYWNpdHkgPSBwYXJzZUZsb2F0KGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLW5vZGUtZmlsbC1vcGFjaXR5JykudHJpbSgpIHx8ICcwLjU1Jyk7CiAgICAgICAgICAgIGlmIChjb2xvcikgewogICAgICAgICAgICAgICAgc3dhdGNoLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGhleFRvUmdiYShjb2xvciwgb3BhY2l0eSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbG9yIHN3YXRjaCBtaXNzaW5nIGRhdGEtY29sb3IgYXR0cmlidXRlOicsIHN3YXRjaCk7IAogICAgICAgICAgICB9CiAgICAgICAgICAgIHN3YXRjaC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbG9yLXBhbmVsIC5jb2xvci1zd2F0Y2gnKS5mb3JFYWNoKHMgPT4gcy5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC1zd2F0Y2gnKSk7CiAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkLXN3YXRjaCcpOwogICAgICAgICAgICAgICAgZygnbm9kZUNvbG9yJykudmFsdWUgPSB0aGlzLmRhdGFzZXQuY29sb3I7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzd2F0Y2guYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHNob3dDb2xvclN3YXRjaFRvb2x0aXApOwogICAgICAgICAgICBzd2F0Y2guYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGhpZGVUb29sdGlwKTsKICAgICAgICB9KTsKCgogICAgICAgIGNvbnN0IHRoZW1lVG9nZ2xlQnRuID0gZygndGhlbWVUb2dnbGVCdG4nKSwgYm9keSA9IGRvY3VtZW50LmJvZHksIHByZWZlcnNEYXJrID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKTsKICAgICAgICBmdW5jdGlvbiBhcHBseVRoZW1lKHRoZW1lKSB7IGJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnZGFyay1tb2RlJywgdGhlbWUgPT09ICdkYXJrJyk7IHRoZW1lVG9nZ2xlQnRuLnF1ZXJ5U2VsZWN0b3IoJ2knKS5jbGFzc05hbWUgPSB0aGVtZSA9PT0gJ2RhcmsnID8gJ2ZhcyBmYS1zdW4nIDogJ2ZhcyBmYS1tb29uJzsgfQogICAgICAgIGNvbnN0IHNhdmVkVGhlbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSB8fCAocHJlZmVyc0RhcmsubWF0Y2hlcyA/ICdkYXJrJyA6ICdsaWdodCcpOwogICAgICAgIGFwcGx5VGhlbWUoc2F2ZWRUaGVtZSk7CiAgICAgICAgdGhlbWVUb2dnbGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IGNvbnN0IG5ld1RoZW1lID0gYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2RhcmstbW9kZScpID8gJ2xpZ2h0JyA6ICdkYXJrJzsgYXBwbHlUaGVtZShuZXdUaGVtZSk7IGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsIG5ld1RoZW1lKTsgfSk7CiAgICAgICAgZygnYWlBc3Npc3RhbnRCdG4nKS5vbmNsaWNrID0gb3BlbkFJQXNzaXN0YW50OwogICAgICAgIGcoJ25vZGVTaXplSW5jcmVhc2VCdG4nKS5vbmNsaWNrID0gKCkgPT4geyBpZiAoY3VycmVudE5vZGVTaXplRmFjdG9yIDwgTUFYX05PREVfU0laRV9GQUNUT1IpIHsgY3VycmVudE5vZGVTaXplRmFjdG9yID0gcGFyc2VGbG9hdCgoY3VycmVudE5vZGVTaXplRmFjdG9yICsgTk9ERV9TSVpFX1NURVApLnRvRml4ZWQoMikpOyBpc0luaXRpYWxMYXlvdXQgPSBmYWxzZTsgdXBkYXRlTm9kZVNpemVzKCk7IH0gfTsKICAgICAgICBnKCdub2RlU2l6ZURlY3JlYXNlQnRuJykub25jbGljayA9ICgpID0+IHsgaWYgKGN1cnJlbnROb2RlU2l6ZUZhY3RvciA+IE1JTl9OT0RFX1NJWkVfRkFDVE9SKSB7IGN1cnJlbnROb2RlU2l6ZUZhY3RvciA9IHBhcnNlRmxvYXQoKGN1cnJlbnROb2RlU2l6ZUZhY3RvciAtIE5PREVfU0laRV9TVEVQKS50b0ZpeGVkKDIpKTsgaXNJbml0aWFsTGF5b3V0ID0gZmFsc2U7IHVwZGF0ZU5vZGVTaXplcygpOyB9IH07CiAgICAgICAgZygnY29sb3JMZWdlbmRCdG4nKS5vbmNsaWNrID0gb3BlbkNvbG9yTGVnZW5kTW9kYWw7CiAgICAgICAgZygnY2xvc2VDb2xvckxlZ2VuZE1vZGFsJykub25jbGljayA9ICgpID0+IGcoJ2NvbG9yTGVnZW5kTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGcoJ2NvbG9yTGVnZW5kRm9ybScpLm9uc3VibWl0ID0gc2F2ZUNvbG9yTGVnZW5kOwogICAgICAgIGcoJ3RlbXBsYXRlQnRuJykub25jbGljayA9ICgpID0+IHsgZygndGVtcGxhdGVNb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyB9OwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyN0ZW1wbGF0ZU1vZGFsIC5tb2RhbC1idG4nKS5mb3JFYWNoKChiKSA9PiAoYi5vbmNsaWNrID0gKGUpID0+IHsgbG9hZFRlbXBsYXRlKGUudGFyZ2V0LmRhdGFzZXQudGVtcGxhdGUpOyBnKCd0ZW1wbGF0ZU1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSkpOwogICAgICAgIAogICAgICAgIGcoJ2FkZE5vZGVIZWFkZXJCdG4nKS5vbmNsaWNrID0gKGUpID0+IHsgCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgCiAgICAgICAgICAgIGNyZWF0ZU5vZGUoKTsKICAgICAgICB9OwoKICAgICAgICBjb25zdCBhZGRDb25uQnRuID0gZygnYWRkQ29ubmVjdG9yQnRuJyk7CiAgICAgICAgYWRkQ29ubkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgCiAgICAgICAgICAgIGNvbm5lY3Rvck1vZGUgPSAhY29ubmVjdG9yTW9kZTsgCiAgICAgICAgICAgIGNvbm5lY3RvclN0YXJ0Tm9kZSA9IG51bGw7IAogICAgICAgICAgICBhZGRDb25uQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIGNvbm5lY3Rvck1vZGUpOyAKICAgICAgICAgICAgZygnZmxvd2NoYXJ0Jykuc3R5bGUuY3Vyc29yID0gY29ubmVjdG9yTW9kZSA/ICdjcm9zc2hhaXInIDogJ2RlZmF1bHQnOyAKICAgICAgICAgICAgaWYgKCFjb25uZWN0b3JNb2RlKSB7CiAgICAgICAgICAgICAgICBub2RlR3JvdXAuc2VsZWN0QWxsKCcuZmxvd2NoYXJ0LW5vZGUtaHRtbCcpLnN0eWxlKCdvdXRsaW5lJywgJ25vbmUnKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIAogICAgICAgIGcoJ3NhdmVCdG4nKS5vbmNsaWNrID0gc2F2ZVRvRmlsZTsKICAgICAgICAKICAgICAgICBnKCd1cGxvYWRCdG4nKS5vbmNsaWNrID0gKCkgPT4gZygnZmlsZUlucHV0JykuY2xpY2soKTsKICAgICAgICBnKCdmaWxlSW5wdXQnKS5vbmNoYW5nZSA9IChlKSA9PiB7IGlmIChlLnRhcmdldC5maWxlcy5sZW5ndGggPiAwKSBsb2FkRnJvbUZpbGUoZS50YXJnZXQuZmlsZXNbMF0pOyB9OwogICAgICAgIGcoJ3VzZXJHdWlkZUJ0bicpLm9uY2xpY2sgPSAoKSA9PiB7IGcoJ3VzZXJHdWlkZU1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IH07CiAgICAgICAgZygnY2xvc2VVc2VyR3VpZGVNb2RhbCcpLm9uY2xpY2sgPSAoKSA9PiBnKCd1c2VyR3VpZGVNb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgZygnc2hhcmVCdG4nKS5vbmNsaWNrID0gKCkgPT4gZygnc2hhcmVNb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgIGcoJ2Nsb3NlU2hhcmVNb2RhbCcpLm9uY2xpY2sgPSAoKSA9PiBnKCdzaGFyZU1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBnKCdwcm9qZWN0RGVzY0J0bicpLm9uY2xpY2sgPSAoKSA9PiB7IGNvbnN0IHBkID0gZGF0YS5wcm9qZWN0RGVzY3JpcHRpb24gfHwge307IGcoJ3Byb2plY3RTdW1tYXJ5JykudGV4dENvbnRlbnQgPSAocGQuc3VtbWFyeSAmJiBwZC5nZW5lcmF0ZWREYXRlKSA/IHBkLnN1bW1hcnkgOiAnRmlsZSBkb2VzIG5vdCBjb250YWluIGEgUHJvamVjdCBEZXNjcmlwdGlvbi4nOyBnKCdwcm9qZWN0R2VuZXJhdGVkRGF0ZScpLnRleHRDb250ZW50ID0gKHBkLnN1bW1hcnkgJiYgcGQuZ2VuZXJhdGVkRGF0ZSkgPyBgR2VuZXJhdGVkOiAke3BkLmdlbmVyYXRlZERhdGV9YCA6ICcnOyBnKCdwcm9qZWN0RGVzY01vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IH07CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsIC5jbG9zZS1idXR0b24nKS5mb3JFYWNoKChiKSA9PiB7IAogICAgICAgICAgICBjb25zdCBtb2RhbElkID0gYi5jbG9zZXN0KCcubW9kYWwnKS5pZDsKICAgICAgICAgICAgaWYgKCFbJ2Nsb3NlVXNlckd1aWRlTW9kYWwnLCdjbG9zZVByb2plY3REZXNjTW9kYWwnLCdjbG9zZVNoYXJlTW9kYWwnLCdjbG9zZUNvbG9yTGVnZW5kTW9kYWwnLCAnY2xvc2VDb25uZWN0b3JPcHRpb25zTW9kYWwnXS5pbmNsdWRlcyhiLmlkKSkgeyAKICAgICAgICAgICAgICAgIGIub25jbGljayA9IChlKSA9PiB7IAogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IAogICAgICAgICAgICAgICAgICAgIGIuY2xvc2VzdCgnLm1vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgCiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsSWQgPT09ICdtb2RhbCcpIHsgCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTm9kZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsgCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBnKCdjbG9zZVByb2plY3REZXNjTW9kYWwnKS5vbmNsaWNrID0gKGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgZygncHJvamVjdERlc2NNb2RhbCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IH07CiAgICAgICAgZygnY2xvc2VDb25uZWN0b3JPcHRpb25zTW9kYWwnKS5vbmNsaWNrID0gKGUpID0+IHsgCiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IAogICAgICAgICAgICBnKCdjb25uZWN0b3JPcHRpb25zTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBsaW5rR3JvdXAuc2VsZWN0QWxsKCdnLmxpbmstY29udGFpbmVyJykuY2xhc3NlZCgnc2VsZWN0ZWQnLCBmYWxzZSk7IAogICAgICAgICAgICBzZWxlY3RlZExpbmsgPSBudWxsOyAKICAgICAgICB9OwogICAgICAgIHdpbmRvdy5vbmNsaWNrID0gKGUpID0+IHsgCiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsJykgJiYgCiAgICAgICAgICAgICAgICAhZS50YXJnZXQuY2xvc2VzdCgnI21vZGFsJykgJiYgCiAgICAgICAgICAgICAgICAhZS50YXJnZXQuY2xvc2VzdCgnI3Rhc2tUZXh0UG9wdXAnKSAmJgogICAgICAgICAgICAgICAgIWUudGFyZ2V0LmNsb3Nlc3QoJyN0ZW1wbGF0ZU1vZGFsJykgJiYKICAgICAgICAgICAgICAgICFlLnRhcmdldC5jbG9zZXN0KCcjdXNlckd1aWRlTW9kYWwnKSAmJgogICAgICAgICAgICAgICAgIWUudGFyZ2V0LmNsb3Nlc3QoJyNzaGFyZU1vZGFsJykgJiYKICAgICAgICAgICAgICAgICFlLnRhcmdldC5jbG9zZXN0KCcjcHJvamVjdERlc2NNb2RhbCcpICYmCiAgICAgICAgICAgICAgICAhZS50YXJnZXQuY2xvc2VzdCgnI2NvbG9yTGVnZW5kTW9kYWwnKSAmJgogICAgICAgICAgICAgICAgIWUudGFyZ2V0LmNsb3Nlc3QoJyNjb25uZWN0b3JPcHRpb25zTW9kYWwnKSAKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICBlLnRhcmdldC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgZygndGFza0Zvcm0nKS5vbnN1Ym1pdCA9IChlKSA9PiB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgaWYgKHNlbGVjdGVkTm9kZSkgewogICAgICAgICAgICAgICAgbGV0IHRhc2tzID0gW107CiAgICAgICAgICAgICAgICBnKCd0YXNrVGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCd0Ym9keSB0cicpLmZvckVhY2goKHIpID0+IHsKICAgICAgICAgICAgICAgICAgICBsZXQgY2hrID0gci5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPSJjaGVja2JveCJdJyk7CiAgICAgICAgICAgICAgICAgICAgbGV0IHR4dCA9IHIucXVlcnlTZWxlY3RvcignLnRhc2stZGV0YWlsLXRleHRhcmVhJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR4dCAmJiB0eHQudmFsdWUudHJpbSgpICE9PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5wdXNoKHsgY29tcGxldGVkOiBjaGsuY2hlY2tlZCwgdGFzazogdHh0LnZhbHVlLnRyaW0oKSB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc2VsZWN0ZWROb2RlLCB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogZygndGFza05hbWUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICByZXNwb25zaWJsZTogZygncmVzcG9uc2libGUnKS52YWx1ZSwKICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGcoJ3N0YXR1cycpLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIGRlYWRsaW5lOiBnKCdkZWFkbGluZScpLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiBnKCdwcmlvcml0eScpLnZhbHVlLAogICAgICAgICAgICAgICAgICAgIGFjdGlvbkRlc2NyaXB0aW9uOiB0YXNrcywKICAgICAgICAgICAgICAgICAgICBjb2xvcjogZygnbm9kZUNvbG9yJykudmFsdWUgfHwgbnVsbCwKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2VsZWN0ZWROb2RlLmZ4ID0gc2VsZWN0ZWROb2RlLng7CiAgICAgICAgICAgICAgICBzZWxlY3RlZE5vZGUuZnkgPSBzZWxlY3RlZE5vZGUueTsKICAgICAgICAgICAgICAgIGlzSW5pdGlhbExheW91dCA9IGZhbHNlOwogICAgICAgICAgICAgICAgdXBkYXRlKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZygnbW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgZygnY29uZmlybURlbGV0ZUxpbmtCdG4nKS5vbmNsaWNrID0gKCkgPT4geyAKICAgICAgICAgICAgaWYgKHNlbGVjdGVkTGluayAmJiBjb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgY29ubmVjdGlvbj8nKSkgeyAKICAgICAgICAgICAgICAgIGRhdGEubGlua3MgPSBkYXRhLmxpbmtzLmZpbHRlcihsID0+IGwgIT09IHNlbGVjdGVkTGluayk7IAogICAgICAgICAgICAgICAgaXNJbml0aWFsTGF5b3V0ID0gZmFsc2U7IAogICAgICAgICAgICAgICAgdXBkYXRlKCk7IAogICAgICAgICAgICB9IAogICAgICAgICAgICBnKCdjb25uZWN0b3JPcHRpb25zTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAKICAgICAgICAgICAgbGlua0dyb3VwLnNlbGVjdEFsbCgnZy5saW5rLWNvbnRhaW5lcicpLmNsYXNzZWQoJ3NlbGVjdGVkJywgZmFsc2UpOyAKICAgICAgICAgICAgc2VsZWN0ZWRMaW5rID0gbnVsbDsgCiAgICAgICAgfTsKICAgICAgICAKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY29ubmVjdG9yT3B0aW9uc01vZGFsIC5saW5lLXN0eWxlLWJ0bicpLmZvckVhY2goYnRuID0+IHsKICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRMaW5rKSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMaW5rLmxpbmVTdHlsZSA9IHRoaXMuZGF0YXNldC5zdHlsZTsKICAgICAgICAgICAgICAgICAgICB1cGRhdGVCdXR0b25TZWxlY3Rpb24odGhpcywgJyNjb25uZWN0b3JPcHRpb25zTW9kYWwgLmxpbmUtc3R5bGUtYnRuJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBnKCdhZGRSZW1vdmVBcnJvd0J0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChzZWxlY3RlZExpbmspIHsKICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZExpbmsuYXJyb3dEaXJlY3Rpb24gPT09ICdub25lJykgewogICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTGluay5hcnJvd0RpcmVjdGlvbiA9ICdmb3J3YXJkJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRMaW5rLmFycm93RGlyZWN0aW9uID0gJ25vbmUnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXBkYXRlQ29ubmVjdG9yTW9kYWxBcnJvd0J1dHRvbnMoKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBnKCdzd2l0Y2hBcnJvd0RpcmVjdGlvbkJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChzZWxlY3RlZExpbmsgJiYgc2VsZWN0ZWRMaW5rLmFycm93RGlyZWN0aW9uICE9PSAnbm9uZScpIHsgCiAgICAgICAgICAgICAgICBzZWxlY3RlZExpbmsuYXJyb3dEaXJlY3Rpb24gPSAoc2VsZWN0ZWRMaW5rLmFycm93RGlyZWN0aW9uID09PSAnZm9yd2FyZCcpID8gJ2JhY2t3YXJkJyA6ICdmb3J3YXJkJzsKICAgICAgICAgICAgICAgIHVwZGF0ZUNvbm5lY3Rvck1vZGFsQXJyb3dCdXR0b25zKCk7IAogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIGcoJ3NhdmVDb25uZWN0b3JPcHRpb25zQnRuJykub25jbGljayA9IChlKSA9PiB7CiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgCiAgICAgICAgICAgIGlmIChzZWxlY3RlZExpbmspIHsKICAgICAgICAgICAgICAgIHVwZGF0ZSgpOyAKICAgICAgICAgICAgfQogICAgICAgICAgICBnKCdjb25uZWN0b3JPcHRpb25zTW9kYWwnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAKICAgICAgICAgICAgbGlua0dyb3VwLnNlbGVjdEFsbCgnZy5saW5rLWNvbnRhaW5lcicpLmNsYXNzZWQoJ3NlbGVjdGVkJywgZmFsc2UpOyAKICAgICAgICAgICAgc2VsZWN0ZWRMaW5rID0gbnVsbDsKICAgICAgICB9OwoKCiAgICAgICAgZygnYWRkVGFza1Jvd0J0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gYWRkVGFza1Jvdyh7fSkpOwogICAgICAgIGcoJ2RlbGV0ZVRhc2tCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgbGV0IHNSID0gZygndGFza1RhYmxlJykucXVlcnlTZWxlY3RvcigndGJvZHkgdHIuc2VsZWN0ZWRUYXNrUm93Jyk7IGlmIChzUikgc1IucmVtb3ZlKCk7IGcoJ3Rhc2tUZXh0UG9wdXAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9KTsKICAgICAgICBnKCdkZWxldGVOb2RlQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IGlmIChzZWxlY3RlZE5vZGUgJiYgY29uZmlybSgnRGVsZXRlIG5vZGU/JykpIHsgY29uc3Qgc2VsZWN0ZWRJZCA9IHNlbGVjdGVkTm9kZS5pZDsgZGF0YS5ub2RlcyA9IGRhdGEubm9kZXMuZmlsdGVyKChuKSA9PiBuLmlkICE9PSBzZWxlY3RlZElkKTsgZGF0YS5saW5rcyA9IGRhdGEubGlua3MuZmlsdGVyKGwgPT4gKGwuc291cmNlLmlkIHx8IGwuc291cmNlKSAhPT0gc2VsZWN0ZWRJZCAmJiAobC50YXJnZXQuaWQgfHwgbC50YXJnZXQpICE9PSBzZWxlY3RlZElkKTsgc2VsZWN0ZWROb2RlID0gbnVsbDsgaXNJbml0aWFsTGF5b3V0ID0gZmFsc2U7IHVwZGF0ZSgpOyB9IGcoJ21vZGFsJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSk7CiAgICAgICAgZygnZmxvd2NoYXJ0TmFtZUlucHV0JykuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7IGRhdGEuZmxvd2NoYXJ0TmFtZSA9IHRoaXMudmFsdWUgfHwgJ1VudGl0bGVkJzsgfSk7CiAgICAgICAgCiAgICAgICAgY29uc3Qgb3JpZ2luYWxBZGRDb25uZWN0b3JDbGljayA9IGcoJ2FkZENvbm5lY3RvckJ0bicpLm9uY2xpY2s7IAogICAgICAgIGcoJ2FkZENvbm5lY3RvckJ0bicpLm9uY2xpY2sgPSAoZSkgPT4gewogICAgICAgICAgICBpZiAob3JpZ2luYWxBZGRDb25uZWN0b3JDbGljaykgb3JpZ2luYWxBZGRDb25uZWN0b3JDbGljayhlKTsgCgogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnN0IG5ld0xpbmsgPSBkYXRhLmxpbmtzLmZpbmQobCA9PiAKICAgICAgICAgICAgICAgICAgICAobC5zb3VyY2UgPT09IChjb25uZWN0b3JTdGFydE5vZGUgPyBjb25uZWN0b3JTdGFydE5vZGUuaWQgOiB1bmRlZmluZWQpICYmIGwudGFyZ2V0ID09PSAoc2VsZWN0ZWROb2RlID8gc2VsZWN0ZWROb2RlLmlkIDogdW5kZWZpbmVkKSkgfHwKICAgICAgICAgICAgICAgICAgICAobC5zb3VyY2UgPT09IChzZWxlY3RlZE5vZGUgPyBzZWxlY3RlZE5vZGUuaWQgOiB1bmRlZmluZWQpICYmIGwudGFyZ2V0ID09PSAoY29ubmVjdG9yU3RhcnROb2RlID8gY29ubmVjdG9yU3RhcnROb2RlLmlkIDogdW5kZWZpbmVkKSkKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIChuZXdMaW5rICYmICh0eXBlb2YgbmV3TGluay5saW5lU3R5bGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBuZXdMaW5rLmFycm93RGlyZWN0aW9uID09PSAndW5kZWZpbmVkJykpIHsKICAgICAgICAgICAgICAgICAgICBuZXdMaW5rLmxpbmVTdHlsZSA9IG5ld0xpbmsubGluZVN0eWxlIHx8ICdzb2xpZCc7CiAgICAgICAgICAgICAgICAgICAgbmV3TGluay5hcnJvd0RpcmVjdGlvbiA9IG5ld0xpbmsuYXJyb3dEaXJlY3Rpb24gfHwgJ25vbmUnOyAKICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTsgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIDApOyAKICAgICAgICB9OwoKICAgICAgICBpZiAoZGF0YS5ub2Rlcy5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgaXNJbml0aWFsTGF5b3V0ID0gdHJ1ZTsKICAgICAgICAgICAgbG9hZFRlbXBsYXRlKCdwcm90b3R5cGUnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpc0luaXRpYWxMYXlvdXQgPSB0cnVlOwogICAgICAgICAgICB1cGRhdGUoKTsKICAgICAgICB9CiAgICB9CiAgPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="; // Your base64 content
    const decoded = atob(encoded);
    document.getElementById("protected-content").innerHTML = decoded;
  }
</script>
